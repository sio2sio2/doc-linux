


<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>9.1.3.2. Firma de documentos &#8212; documentación de Linuxnomicón - rolling</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/classic.css" />
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/translations.js"></script>
    
    <link rel="index" title="Índice" href="../../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../../search.html" />
    <link rel="next" title="9.1.3.3. Correo electrónico" href="03.correo.html" />
    <link rel="prev" title="9.1.3.1. Certificado digital" href="01.certdig.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="03.correo.html" title="9.1.3.3. Correo electrónico"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="01.certdig.html" title="9.1.3.1. Certificado digital"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">documentación de Linuxnomicón - rolling</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" ><span class="section-number">9. </span>Apéndices</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" ><span class="section-number">9.1. </span>Criptografía</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../03.aplicaciones.html" accesskey="U"><span class="section-number">9.1.3. </span>Aplicaciones de la criptografía</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">9.1.3.2. </span>Firma de documentos</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="firma-de-documentos">
<span id="firm-doc"></span><h1><span class="section-number">9.1.3.2. </span>Firma de documentos<a class="headerlink" href="#firma-de-documentos" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Según <a class="reference internal" href="../02.algo.html#firma-digital"><span class="std std-ref">se presentó en un principio</span></a>, puede firmarse
cualquier archivo o flujo de datos y a ressultas de ello se obtendrá un archivo
de firma que contiene el resumen cifrado con la la clave privada del firmante
junto a metainformación sobre el proceso. Dedicamos, no obstante, el epígrafe a
la forma de documentos de carácter oficial (contratos, solicitudes, decretos,
etc.) para lo cual se usa el formato <abbr title="Portable Dcument Format">PDF</abbr>. Su especificación recoge cómo
firmarlos:</p>
<ul class="simple">
<li><p>incluyendo la firma (o las firmas si se requiere la firma de varios)
en un campo interno.</p></li>
<li><p>Utilizando <a class="reference internal" href="01.certdig.html#cert-digital"><span class="std std-ref">certificados digitales X.509</span></a>.</p></li>
</ul>
<p>A resultas de firmarlos se obtendrá un archivo <abbr title="Portable Dcument Format">PDF</abbr> firmado cuya firma(s)
puede(n) validarse fehacientemente.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Aunque pueden llevarse a cabo marcas visibles (imprimibles) en el
documento que denoten quién y cuándo ha sido firmado, la firma digital en sí
no es visible y se verifica utilizando una herramienta de verificación sobre
el archivo.</p>
</div>
<div class="section" id="estatus-legal">
<span id="firma-legal"></span><h2><span class="section-number">9.1.3.2.1. </span>Estatus legal<a class="headerlink" href="#estatus-legal" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La validez legal de la firma digital está desarrollada en España a través de la
<a class="reference external" href="https://www.boe.es/eli/es/l/2020/11/11/6/con">Ley 6/2020</a>, de 11 de noviembre, <em>reguladora de determinados aspectos de los
servicios electrónicos de confianza</em>, y  el <a class="reference external" href="https://www.boe.es/buscar/doc.php?id=DOUE-L-2014-81822">Reglamento eIDAS</a> (<em>Reglamento
910/2014</em>, conocidos por sus siglas en ingles <abbr title="Electronic IDentification, Authentication and trust Services">eIDAS</abbr>). La normativa establece
dos tipos de <em>prestadores de servicios de confianza</em> (esto es, de <abbr title="Certification Authority">CA</abbr>):</p>
<ul class="simple">
<li><p><em class="dfn">Prestadores cualificados</em>, que son aquellos reconocidos como tales por
un organismo supervisor<a class="footnote-reference brackets" href="#id5" id="id1">1</a>. Las obligaciones a los que están sujetos se
encuentran enumeradas en el artículo <strong>9</strong> de la <a class="reference external" href="https://www.boe.es/eli/es/l/2020/11/11/6/con">Ley 6/2020</a>.</p></li>
<li><p><em class="dfn">Prestadores no cualificados</em>, que son aquellos que no gozan de este
reconocimiento, aunque se encuentran inscritos para el ejercicio de su
actividad.</p></li>
</ul>
<p>Esta distinción origina que haya <em class="dfn">certificados digitales cualificados</em> y
<em class="dfn">certificados digitales no cualificados</em> y, consecuentemente, una
<em class="dfn">firma electrónica cualificada</em> y una <em class="dfn">firma electrónica no
cualificada</em>. La diferencia legal entre una y otra firma es que la primera tiene
los mismos efectos juridicos que la firma manuscrita, mientras que la segunda
no, aunque puede ser admitida en un juicio<a class="footnote-reference brackets" href="#id6" id="id2">2</a>.</p>
<p>El Ministerio publica en su web la <a class="reference external" href="https://avancedigital.mineco.gob.es/es-es/Servicios/FirmaElectronica/Paginas/Prestadores.aspx">lista de prestadores cualificados y no
cualificados de confianza</a>.
Como todos los países de la Unión tiene la obligación de remitir estas listas
también es posible la <a class="reference external" href="https://digital-strategy.ec.europa.eu/en/policies/eu-trusted-lists">consulta de todos los prestadores europeos</a>.</p>
</div>
<div class="section" id="apendice-practico">
<span id="pdfsig"></span><h2><span class="section-number">9.1.3.2.2. </span>Apéndice práctico<a class="headerlink" href="#apendice-practico" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Hay varias aplicaciones que permiten la firma y verificación de
firmas de documentos <abbr title="Portable Dcument Format">PDF</abbr>:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.libreoffice.org">LibreOffice</a> (dentro del menú «Archivo»).</p></li>
<li><p><a class="reference external" href="https://mupdf.com">MuPDF</a><a class="footnote-reference brackets" href="#id7" id="id3">3</a>.</p></li>
<li><p><a class="reference external" href="https://poppler.freedesktop.org">Poppler</a> y todas las aplicaciones gráficas que lo usen como base (<a class="reference external" href="https://www.xpdfreader.com">Xpdf</a>, <a class="reference external" href="https://wiki.gnome.org/Apps/Evince">Evince</a>).</p></li>
</ul>
<p>Nos centraremos en el uso por línea de órdenes de esta última.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>El Gobierno de España proporciona dos buenas herramientas:</p>
<ul class="simple">
<li><p>Para la <strong>firma</strong>, la aplicación <a class="reference external" href="https://firmaelectronica.gob.es/Home/Descargas.html">Autofirma</a>, escrita en <em>Java</em>.</p></li>
<li><p>Para la <strong>validación</strong> de documentos firmados con certificados expedidos por
algunas <abbr title="Certification Authority">CA</abbr> reconocidos por el <a class="reference external" href="https://mincotur.gob.es">Ministerio de Industria, Comercio y Turismo</a>, la página <a class="reference external" href="https://valide.redsara.es/">Valide</a>.</p></li>
</ul>
</div>
<div class="section" id="validacion">
<h3><span class="section-number">9.1.3.2.2.1. </span>Validación<a class="headerlink" href="#validacion" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Puede comprobarse la validez de la firma de un <abbr title="Portable Dcument Format">PDF</abbr> con <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/pdfsig">pdfsig</a></em>
(incluido en el paquete <a class="reference external" href="https://packages.debian.org/stable/poppler-utils">poppler-utils</a>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pdfsig -nocert documento.pdf
</pre></div>
</div>
<p>La orden de arriba, sin embargo, no comprobará la fiabilidad del certificado
firmante (<kbd class="kbd docutils literal notranslate">-nocert</kbd>). Para ello, es necesario que el programa disponga de
toda la cadena de confianza. Lo más probable es que esto no sea así, ya que
<strong class="command">pdfsig</strong>, usa un almacén <abbr title="Network Secure Services">NSS</abbr> y no los certificados del sistema
operativo. Se puede, no obstante, preparar un catálogo que contenga la cadena
de certificados tal como se expone <a class="reference internal" href="01.certdig.html#cert-nss"><span class="std std-ref">al tratar los catálogos NSS</span></a> y hacer entonces la comprobación:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pdfsig -nssdir sql:/tmp/nssdb documento.pdf
</pre></div>
</div>
</div>
<div class="section" id="firma">
<h3><span class="section-number">9.1.3.2.2.2. </span>Firma<a class="headerlink" href="#firma" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Por hacer</p>
<p>Por lo que se <a class="reference external" href="https://poppler.freedesktop.org/releases.html">deduce de sus notas de publicación</a>, la orden <strong class="command">pdfsig</strong>
incluida en la suite de manipulación de archivos <abbr title="Portable Dcument Format">PDF</abbr>
<strong class="program">poppler-utils</strong> incorpora la posibilidad de firmar documentos a
partir de la versión <strong>21.01</strong> (la verificación ya la soporta desde hace
tiempo).</p>
</div>
<p class="rubric">Notas al pie</p>
<dl class="footnote brackets">
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>La <a class="reference external" href="https://avancedigital.mineco.gob.es/es-es/Paginas/index.aspx">Secretaria de Estado de Telecomunicaciones e
Infraestructuras Digitales</a> dependiente del <a class="reference external" href="https://portal.mineco.gob.es/es-es/Paginas/default.aspx">Ministerio de Asuntos Económicos
y Transformación Digital</a>. La variabilidad política hará que este párrafo
quede pronto obsoleto y el nombre del Ministerio y de la Secretaría de Estado
cambie de nombre y <em>dirección web</em>.</p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Puede hacerse una lectura del artículo <a class="reference external" href="http://e-procesal.com/dterceros-de-confianza-y-certificacion-de-prueba-electronica-una-nueva-frontera-en-materia-de-probatica-2109">Terceros de confianza y
certificación de prueba electrónica. Una nueva frontera en materia de
probática</a>.</p>
</dd>
<dt class="label" id="id7"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>¿Alguien sabe cómo se firma con <strong class="command">mutools</strong>? No parece funcionar,
al menos con certificados en formato <abbr title="Public-Key Cryptography Standards">PKCS</abbr> #12.</p>
</dd>
</dl>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Tabla de contenido</a></h3>
  <ul>
<li><a class="reference internal" href="#">9.1.3.2. Firma de documentos</a><ul>
<li><a class="reference internal" href="#estatus-legal">9.1.3.2.1. Estatus legal</a></li>
<li><a class="reference internal" href="#apendice-practico">9.1.3.2.2. Apéndice práctico</a><ul>
<li><a class="reference internal" href="#validacion">9.1.3.2.2.1. Validación</a></li>
<li><a class="reference internal" href="#firma">9.1.3.2.2.2. Firma</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="01.certdig.html"
                        title="capítulo anterior"><span class="section-number">9.1.3.1. </span>Certificado digital</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="03.correo.html"
                        title="próximo capítulo"><span class="section-number">9.1.3.3. </span>Correo electrónico</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/09.apendice/01.cryto/03.aplicaciones/02.pdf.rst.txt"
            rel="nofollow">Mostrar el código</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Ir a" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="03.correo.html" title="9.1.3.3. Correo electrónico"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="01.certdig.html" title="9.1.3.1. Certificado digital"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">documentación de Linuxnomicón - rolling</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" ><span class="section-number">9. </span>Apéndices</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" ><span class="section-number">9.1. </span>Criptografía</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../03.aplicaciones.html" ><span class="section-number">9.1.3. </span>Aplicaciones de la criptografía</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">9.1.3.2. </span>Firma de documentos</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor CC BY 4.0, 2016-2021, José Miguel Sánchez Alés.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
  </body>
</html>