


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>8.7.2. nftables &#8212; documentación de Linuxnomicón - rolling</title>
    <link rel="stylesheet" href="../../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Índice" href="../../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../../search.html" />
    <link rel="next" title="8.7.2.1. Conceptos" href="01.conceptos.html" />
    <link rel="prev" title="8.7.1.5. ARPtables" href="../01.iptables/05.arptables.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="01.conceptos.html" title="8.7.2.1. Conceptos"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="../01.iptables/05.arptables.html" title="8.7.1.5. ARPtables"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">documentación de Linuxnomicón - rolling</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >8. Conceptos avanzados de redes</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" accesskey="U">8.7. Cortafuegos</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="nftables">
<span id="id1"></span><h1>8.7.2. nftables<a class="headerlink" href="#nftables" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Es el nuevo cortafuegos de <em>Linux</em> con una sintaxis totalmente diferente
inspirada en <a class="reference internal" href="../../06.analisis/01.sniffer.html#tcpdump"><span class="std std-ref">tcpdump</span></a>. Pese a ello, resulta muy útil el
conocimiento previo de <strong class="program">iptables</strong> debido a que:</p>
<ul class="simple">
<li>Aunque de antemano no predefine las tablas ni las cadenas, el flujo
de paquetes sigue siendo exactamente el mismo, por lo que los puntos
de enganche de las cadenas siguen estando en los mismos instantes. Por tanto,
si utilizamos los nombres de tablas y cadenas que se usan en
<strong class="program">iptables</strong>, recrearemos un sistema de tablas y cadenas equivalente,</li>
<li>Incorpora una serie de ordenes (<strong class="program">iptables-nft</strong>, etc.) que son
capaces de procesar la sintaxis de las órdenes de <strong class="program">netfilter</strong> y
generar las reglas para <strong class="program">nftables</strong>. De hecho, también incluye
traductores (<strong class="program">iptables-translate</strong>, etc.). Las posibilidades, sin
embargo, se limitan a la sintaxis básica, por lo que no podremos usar
sentencias de iptables que incluyan <a class="reference internal" href="../01.iptables/03.ext.html#iptables-ext"><span class="std std-ref">extensiones</span></a>.</li>
</ul>
<p>Utilizar <strong class="program">nftables</strong> exige un esfuerzo extra en:</p>
<ul class="simple">
<li>Definir tablas asignando cada una a una familia de tráfico. Con las antiguas
herramientas el tráfico que tratáramos venía definido por la herramienta que
usáramos. Por ejemplo, para tráfico conmutado usábamos <strong class="program">ebtables</strong>.</li>
<li>Definir cadenas para asignar cada una a una familia de tráfico, un tipo de
cadena y un enganche (esto, en que instante del flujo opera). En las antiguas
herramientas existían cadenas predefinidas con todo ya completamente definido.
Por ejemplo, la cadena <em>INPUT</em> de la tabla <em>filter</em> de <strong class="program">iptables</strong> se
refiere a la familia <em>ip</em>, es de tipo <em>filter</em> y su enganche se encuentra tras
la decisión de encaminamiento y antas de la llegada al proceso local.</li>
<li>Asociar las cadenas a tablas, lo cual ya se daba hecho antes. Siguiendo con el
ejemplo de la cadena anterior, ésta ya estaba asociada a la tabla <em>filter</em>.</li>
</ul>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="01.conceptos.html">8.7.2.1. Conceptos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="01.conceptos.html#familias">8.7.2.1.1. Familias</a></li>
<li class="toctree-l2"><a class="reference internal" href="01.conceptos.html#enganches-hooks">8.7.2.1.2. Enganches (<em>hooks</em>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="01.conceptos.html#tipos">8.7.2.1.3. Tipos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="01.conceptos.html#creacion-del-armazon">8.7.2.2. Creación del armazón</a><ul>
<li class="toctree-l2"><a class="reference internal" href="01.conceptos.html#tablas">8.7.2.2.1. Tablas</a></li>
<li class="toctree-l2"><a class="reference internal" href="01.conceptos.html#cadenas">8.7.2.2.2. Cadenas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="02.reglas.html">8.7.2.3. Reglas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="02.reglas.html#sintaxis">8.7.2.3.1. Sintaxis</a></li>
<li class="toctree-l2"><a class="reference internal" href="02.reglas.html#persistencia">8.7.2.3.2. Persistencia</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="03.conn.html">8.7.2.4. Uso práctico</a></li>
<li class="toctree-l1"><a class="reference internal" href="04.ext.html">8.7.2.5. Uso avanzado</a><ul>
<li class="toctree-l2"><a class="reference internal" href="04.ext.html#objetos-de-conexion">8.7.2.5.1. Objetos de conexión</a></li>
<li class="toctree-l2"><a class="reference internal" href="04.ext.html#sets">8.7.2.5.2. sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="04.ext.html#maps">8.7.2.5.3. maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="04.ext.html#diccionarios">8.7.2.5.4. Diccionarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="04.ext.html#concatenaciones">8.7.2.5.5. Concatenaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="04.ext.html#conjuntos-dinamicos">8.7.2.5.6. Conjuntos dinámicos</a></li>
<li class="toctree-l2"><a class="reference internal" href="04.ext.html#flowtables">8.7.2.5.7. flowtables</a></li>
<li class="toctree-l2"><a class="reference internal" href="04.ext.html#recent">8.7.2.5.8. recent</a></li>
</ul>
</li>
</ul>
</div>
<p class="rubric">Enlaces de interes</p>
<ul class="simple">
<li><a class="reference external" href="https://wiki.nftables.org/wiki-nftables/index.php">La wiki de nftables</a>.</li>
<li><a class="reference external" href="https://wiki.archlinux.org/index.php/Nftables">Tutorial de la wiki de Archilinux</a>.</li>
<li><a class="reference external" href="https://wiki.gentoo.org/wiki/Nftables">Tutorial de la wiki de Gentoo</a>.</li>
<li><a class="reference external" href="https://cybercamp.es/sites/default/files/contenidos/videos/adjuntos/cybercamp18_b06_laura_garcia_liebana_0_0.pdf">Presentación de desarrolladores de netfilter en la Cybercamp 2018</a>.</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Tema anterior</h4>
  <p class="topless"><a href="../01.iptables/05.arptables.html"
                        title="capítulo anterior">8.7.1.5. ARPtables</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="01.conceptos.html"
                        title="próximo capítulo">8.7.2.1. Conceptos</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/08.redes/07.cortafuegos/02.nftables/index.rst.txt"
            rel="nofollow">Mostrar el código</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="01.conceptos.html" title="8.7.2.1. Conceptos"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="../01.iptables/05.arptables.html" title="8.7.1.5. ARPtables"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">documentación de Linuxnomicón - rolling</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >8. Conceptos avanzados de redes</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >8.7. Cortafuegos</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor CC BY 4.0, 2016-2020, José Miguel Sánchez Alés.
      Creado con <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>