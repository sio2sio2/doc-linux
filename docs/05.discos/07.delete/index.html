


<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>5.7. Eliminación de datos &#8212; documentación de Linuxnomicón - rolling</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="5.8. Diagnóstico" href="../08.diagn/index.html" />
    <link rel="prev" title="5.6.2.1.2. LVM" href="../06.raid/02.lvm.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../08.diagn/index.html" title="5.8. Diagnóstico"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="../06.raid/02.lvm.html" title="5.6.2.1.2. LVM"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">documentación de Linuxnomicón - rolling</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U"><span class="section-number">5. </span>Dispositivos de almacenamiento</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5.7. </span>Eliminación de datos</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="eliminacion-de-datos">
<span id="remove-data"></span><h1><span class="section-number">5.7. </span>Eliminación de datos<a class="headerlink" href="#eliminacion-de-datos" title="Enlazar permanentemente con este título">¶</a></h1>
<p>La eliminación efectiva de los datos es fundamental cuando hemos almacenado
datos sensibles en un dispositivo y lo sustituimos por otro. Antes de empezar,
sin embargo, tengamos presentes dos cosas:</p>
<ul class="simple">
<li><p>El borrado de archivos con las herramientas básicas del sistema operativo
(<a class="reference internal" href="../../02.conbas/02.informacion/03.ficheros.html#rm"><span class="std std-ref">rm</span></a> en <em>Linux</em>) no borra realmente los datos, simplemente marca
los bloques que éstos ocupaban como reutilizables<a class="footnote-reference brackets" href="#id2" id="id1">1</a>.</p></li>
<li><p>Si habíamos decidido cifrar los datos, su eliminación efectiva no tiene
importancia alguna: los datos serán absolutamente inaccesibles sin la clave
con que se cifraron.</p></li>
</ul>
<p>Sabido esto, si nuestra intención es eliminar realmente los datos del disco,
tenemos dos opciones:</p>
<ol class="arabic simple">
<li><p><strong>Destruir físicamente el disco</strong>, a fin de que quede inservible y sus datos
sean absolutamente ilegibles. A este respecto, es muy interesante <a class="reference external" href="https://www.xataka.com/especiales/como-destruir-un-disco-duro-definitivamente-para-que-no-se-pueda-recuperar-la-informacion">este
artículo de Xataka</a>.</p></li>
<li><p>Utilizar <strong>técnicas de borrado efectivo</strong> de los datos, que será a lo que
propiamente dediquemos el epígrafe.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Si realmente se dispone de datos sensibles, cífralos. Eso evitará
problemas cuando quiera prescindir del dispositivo de almacenamiento, pero
también durante su vida útil.</p>
</div>
<section id="sobrescrituras">
<h2><span class="section-number">5.7.1. </span>Sobrescrituras<a class="headerlink" href="#sobrescrituras" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>No use estas técnicas con dispositivos <abbr title="Solid-State Drive">SSD</abbr>. En realidad, tampoco
son recomendables para discos magnéticos (<abbr title="Hard Disk Drive">HDD</abbr>) modernos por las razones que
se expondrán a continuación. Son más recomendables las <a class="reference internal" href="#borrado-firmware"><span class="std std-ref">técnicas basadas
en el firmware</span></a>.</p>
</div>
<p>Estas técnicas consisten, simplemente, es sobrescribir los datos usando métodos
de escritura estándar. Son técnicas <strong>nada recomendables</strong>, puesto que:</p>
<ul class="simple">
<li><p>Son extremadamente lentas.</p></li>
<li><p>Si no se hacen las suficientes sobrescrituras, la información podría llegar a
recuperarse.</p></li>
<li><p>Avejentan el dispositivo y recordemos que los discos <abbr title="Solid-State Drive">SSD</abbr> tienen unos ciclos
limitados de lectura y escritura.</p></li>
<li><p>En los sistemas de archivos con <em>journaling</em> puede quedar información sensible
en el registro.</p></li>
<li><p>En los discos <abbr title="Solid-State Drive">SSD</abbr> estas técnicas usadas para eliminar archivos concretos son
inútiles sea cual sea el sistema de archivos, puesto que todos los <abbr title="Solid-State Drive">SSD</abbr>
modernos utilizan una funcionalidad llama <em class="dfn">wear leveling</em> (<em>nivel de
desgaste</em>), que consiste en procurar ir distribuyendo equitativamente las
escrituras entre todos los bloques. Por ese motivo, cuando se pida
sobrescribir un archivo lo más probable es que el <em>firmware</em> del disco elija
escribir otros bloques distintos a los que ocupa el archivo y los bloques en
que se encontraban éstos, simplemente, los marque como vacíos.</p></li>
</ul>
<dl>
<dt><a class="reference internal" href="../../02.conbas/02.informacion/04.devices.html#dd"><span class="std std-ref">dd</span></a>  (o <a class="reference internal" href="../../02.conbas/02.informacion/03.ficheros.html#cat"><span class="std std-ref">cat</span></a>)</dt><dd><p>Ya se ha explicado su uso. Ambas herramientas nos servirían para
sobrescribir con ceros (o con caracteres arbitrarios si sustituimos
<code class="file docutils literal notranslate"><span class="pre">/dev/zero</span></code> por <code class="file docutils literal notranslate"><span class="pre">/dev/urandom</span></code>) un dispositivo completo (o una
partición en su defecto). Por ejemplo, si quisiéramos sobrescribir con ceros
el disco <em>sdz</em> completo:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#  </span>dd &lt; /dev/zero &gt; /dev/sdz <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">status</span><span class="o">=</span>progress
</pre></div>
</div>
<p>o bien:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>cat &lt; /dev/zero &gt; /dev/sdz
</pre></div>
</div>
<p>Sólo sobrescribimos una vez: las otras herramientas permiten escrituras más
seguras.</p>
</dd>
</dl>
<span class="target" id="shred"></span><dl id="index-0">
<dt><em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/shred">shred</a></em></dt><dd><p>Es una orden básica incluida en las <a class="reference external" href="https://packages.debian.org/stable/coreutils">coreutils</a>, que permite borrar
ficheros de manera segura, esto es, asegurándose de que el fichero no puede
recuperarse. En realidad, se limita a hacer tres pasadas escribiendo datos
aleatorios y una cuarta opcional para rellenar finalmente con ceros.  Si
suponemos que tenemos un fichero llamado «datos_secretos.txt», podremos
borrarlo del siguiente modo:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>shred -uvz datos_secretos.txt
</pre></div>
</div>
<p>donde la opción <kbd class="kbd docutils literal notranslate">-u</kbd> elimina el fichero tras borrar su contenido,
<kbd class="kbd docutils literal notranslate">-v</kbd> nos ofrece información de cada pasada y <kbd class="kbd docutils literal notranslate">-z</kbd> hace una pasada
adicional rellenando con ceros. Además, podemos hacer más de tres
pasadas, utilizando la opción <kbd class="kbd docutils literal notranslate">-n</kbd>. Sin embargo, no hay opción para
borrado recursivo, por tanto, si queremos borrar todo el contenido de un
directorio que incluye subdirectorios, tendremos que recurrir al uso de
<a class="reference internal" href="../../02.conbas/02.informacion/03.ficheros.html#find"><span class="std std-ref">find</span></a> para generar la lista de archivos.</p>
<p>Un uso alternativo de <strong class="command">shred</strong> es el de borrar dispositivos enteros,
lo cual evita este último inconveniente y, además, es útil si nuestra
intención es borrar toda la información. Así, si quisiéramos borrar todo lo
que contiene el dispositivo <code class="file docutils literal notranslate"><span class="pre">/dev/sdz</span></code>, podríamos arrancar desmontar
todo sistema de ficheros asociado a particiones de este dispositivo (si se
encuentra en él el sistema raíz, podrías arrancar el <em>linux</em> de un dispositivo
extraíble) y hacer:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>shred -vz /dev/sdz
</pre></div>
</div>
<p>donde en este caso, no tiene sentido usar la opción <kbd class="kbd docutils literal notranslate">-u</kbd>.</p>
</dd>
</dl>
<dl id="nwipe">
<dt><em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/nwipe">nwipe</a></em></dt><dd><p>Es una orden derivada de <a class="reference external" href="https://hipertextual.com/2018/12/borrado-seguro-disco-dban">DBAN</a> (una conocida aplicación para eliminación de
datos) que implementa siete métodos estandarizados de borrado (<a class="reference external" href="https://www.bitraser.com/article/DoD-5220-22-m-standard-for-drive-erasure.php">DoD
5220.22-M</a>, <a class="reference external" href="https://en.wikipedia.org//wiki/Gutmann_method">Guttmann</a>, etc.). Su uso es bastante sencillo:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>nwipe -m dod /dev/sdz
</pre></div>
</div>
<p>donde la opción <kbd class="kbd docutils literal notranslate">-m</kbd> permite indicar qué método quiere usarse (en su
página de manual puede consultar todos los posibles).</p>
</dd>
</dl>
<span id="sswap"></span><span id="sfill"></span><span id="srm"></span><span id="secure-delete"></span><dl id="sdmem">
<dt><em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/secure-delete">secure-delete</a></em></dt><dd><p>Es una <em>suite</em> con unas cuantas herramientas especializadas en el borrado de
información utilizando el método <a class="reference external" href="https://en.wikipedia.org//wiki/Gutmann_method">Guttmann</a>:</p>
<ul class="simple">
<li><p><strong class="command">srm</strong>, que borra ficheros.</p></li>
<li><p><strong class="command">sfill</strong>, que borra el espacio libre.</p></li>
<li><p><strong class="command">sswap</strong>, que borra la memoria de intercambio.</p></li>
<li><p><strong class="command">sdmem</strong>, que borrar la memoria <abbr title="Random Access Memory">RAM</abbr>.</p></li>
</ul>
<p>La instalación es trivial:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>apt install secure-delete
</pre></div>
</div>
<p>El borrado estándar que lleva a cabo hace cerca de 40 pasadas y puede acabar
con una pasada adicional que rellena con ceros. Borrar un fichero se hace
así:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>srm -vz datos_secretos.txt
</pre></div>
</div>
<p>A diferencia de <a class="reference internal" href="#shred"><span class="std std-ref">shred</span></a>, sí tiene una opción <kbd class="kbd docutils literal notranslate">-r</kbd> para
borrado recursivo.</p>
<p>Por su parte, borrar el espacio libre de un sistema de ficheros, se nace
utilizando <strong class="command">sfill</strong> sobre el punto de montaje. Por ejemplo:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>sfill -vz /home
</pre></div>
</div>
<p>Si se usa con la opción <kbd class="kbd docutils literal notranslate">-l</kbd> sólo hará dos pasadas con número aleatorios
y si se duplica la opción <kbd class="kbd docutils literal notranslate">-ll</kbd> solamente una.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<p>Hay un excelente <a class="reference external" href="https://www.howtogeek.com/425232/how-to-securely-delete-files-on-linux/">artículo sobre estas herramientas de borrado en
howtogeek</a>.</p>
</div>
</section>
<section id="firmware-del-dispositivo">
<span id="borrado-firmware"></span><h2><span class="section-number">5.7.2. </span>Firmware del dispositivo<a class="headerlink" href="#firmware-del-dispositivo" title="Enlazar permanentemente con este título">¶</a></h2>
<p class="rubric">Notas al pie</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>De ahí, que existan <a class="reference internal" href="../09.recup/index.html#archivos-rec"><span class="std std-ref">aplicaciones para recuperar archivos</span></a>.</p>
</dd>
</dl>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#">5.7. Eliminación de datos</a><ul>
<li><a class="reference internal" href="#sobrescrituras">5.7.1. Sobrescrituras</a></li>
<li><a class="reference internal" href="#firmware-del-dispositivo">5.7.2. Firmware del dispositivo</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="../06.raid/02.lvm.html"
                          title="capítulo anterior"><span class="section-number">5.6.2.1.2. </span><abbr title="Logical Volume Management">LVM</abbr></a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="../08.diagn/index.html"
                          title="próximo capítulo"><span class="section-number">5.8. </span>Diagnóstico</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/05.discos/07.delete/index.rst.txt"
            rel="nofollow">Mostrar el código</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Ir a" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="../08.diagn/index.html" title="5.8. Diagnóstico"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="../06.raid/02.lvm.html" title="5.6.2.1.2. LVM"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">documentación de Linuxnomicón - rolling</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" ><span class="section-number">5. </span>Dispositivos de almacenamiento</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5.7. </span>Eliminación de datos</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor CC BY 4.0, 2016-2022, José Miguel Sánchez Alés.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>