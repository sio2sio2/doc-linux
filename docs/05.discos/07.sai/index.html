


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>5.6. SAI &#8212; documentación de ServidorLinux - 0.1.0</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="5.7. Instalación del servidor" href="../10.instalacion/index.html" />
    <link rel="prev" title="5.5. Gestor de arranque" href="../06.grub/index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../10.instalacion/index.html" title="5.7. Instalación del servidor"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="../06.grub/index.html" title="5.5. Gestor de arranque"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">documentación de ServidorLinux - 0.1.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">5. Gestión de discos</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sai">
<span id="id1"></span><h1>5.6. <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr><a class="headerlink" href="#sai" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> (o <abbr title="Uninterruptible Power Supply">UPS</abbr>, si utilizamos las siglas en inglés) es un dispositivo que
permite proteger a los equipos conectados a través de él de
irregularidades en el suministro eléctrico, como es el caso de los apagones
gracias a las baterías que incorpora, En consecuencia, el
servidor no llega a apagarse y puede continuar dando servicio durante el corte
y tras éste, si el corte no supera el tiempo de la batería. Obviamente, las
baterías serán capaces de alimentar sólo durante un tiempo limitado a los
dispositivos que se alimentan a través del <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>, por lo que si el apagón se
prolonga demasiado, será inevitable que el servidor acabe apagado.</p>
<p>Adicionalmente a esta función principal, son capaces de  comunicar a un
ordenador cuál es su estado (usando las baterías, a punto de agotar la carga de
las baterías, etc.), lo que permite disponer un software en éste que defina qué
hacer en cada caso. Por ejemplo, cuando falte poco para agotar las baterías, lo
más juicioso es apagar el ordenador para que, ya que se acabará apagando, al
menos que se apague de forma ordenada evitando la corrupción del sistema de
ficheros.</p>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">Obviamente, los <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>s no están relacionados directamente con la
gestión del disco, por lo que su inclusión en esta sección es más que
censurable. Sin embargo, al contribuir a la seguridad de los datos impidiendo
el apagado incontrolado del sistema y encontrarse los <a class="reference internal" href="../05.raid/index.html#raid"><span class="std std-ref">RAID</span></a>
también en la sección, se ha incluido esta exposición en ella.</p>
</div>
<div class="section" id="introduccion-teorica">
<h2>5.6.1. Introducción teórica<a class="headerlink" href="#introduccion-teorica" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="anomalias-en-el-suministro">
<h3>5.6.1.1. Anomalías en el suministro<a class="headerlink" href="#anomalias-en-el-suministro" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Ya se ha establecido que la función principal de un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> es combatir los fallos
en el suministro, de los cuales pueden distinguirse nueve distintos:</p>
<table border="1" class="saifallos docutils" id="id6">
<caption><span class="caption-text">Amenazas en el suministro eléctrico</span><a class="headerlink" href="#id6" title="Enlace permanente a esta tabla">¶</a></caption>
<colgroup>
<col width="3%" />
<col width="17%" />
<col width="28%" />
<col width="25%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Anomalía</th>
<th class="head">Descripción</th>
<th class="head">Efecto</th>
<th class="head">Causas frecuente</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>Corte (o apagón)</td>
<td>Interrupción total del
suministro.</td>
<td><ul class="first last simple">
<li>Pérdida de info en RAM</li>
<li>Corrupción de datos,</li>
</ul>
</td>
<td><ul class="first last simple">
<li>Fallo en el suministro.</li>
<li>Fallo en la red interna.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Microcorte</td>
<td>Bajada momentánea de tensión
durante un breve tiempo
(pocos ms) por debajo del
90% de la tensión nominal.</td>
<td><ul class="first last simple">
<li>Daño en componentes
físicos sensibles.</li>
</ul>
</td>
<td rowspan="2"><ul class="first last simple">
<li>Encendido de un aparato
de alto consumo (p.e.
un aire acondicionado).</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Pico de tensión</td>
<td>Subida momentánea de tensión
durante un breve tiempo
(pocos ms) por encima del
110% de la tensión nominal.</td>
<td><ul class="first last simple">
<li>Daño en componentes
físicos.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Bajada de tensión</td>
<td>Bajada sostenida de la
tensión a partir del minuto.</td>
<td><ul class="first last simple">
<li>Funcionamiento
incorrecto.</li>
</ul>
</td>
<td rowspan="2"><ul class="first last simple">
<li>Cercanía o lejanía a la
subestación eléctrica
(sobre todo en zonas
rurales).</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>5</td>
<td>Subida de tensión</td>
<td>Subida sostenida de la
tensión a partir del munuto.</td>
<td><ul class="first last simple">
<li>Daño en componentes
físicos.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>Ruido eléctrico</td>
<td>Distorsión de la señal
generada por interferencias
eléctricas o magnéticas.</td>
<td><ul class="first last simple">
<li>Funcionamiento
incorrecto.</li>
</ul>
</td>
<td rowspan="3">&#160;</td>
</tr>
<tr class="row-even"><td>7</td>
<td>Conmutación
transitoria</td>
<td>Pequeña bajada de tensión
del orden de nanosegundos.</td>
<td><ul class="first last simple">
<li>Daño en componentes
físicos sensibles.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>Variaciones de
frecuencia</td>
<td>Alteración de la frecuencia
de 50 Hz.</td>
<td><ul class="first last simple">
<li>Funcionamiento
incorrecto.</li>
<li>Pérdida de datos.</li>
<li>Daño en componentes
físicos sensibles.</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>9</td>
<td>Distorsión
armónica.</td>
<td>Cambio en la forma
sinusoidal de la onda por
adición de frecuencias
múltiplo de la original.</td>
<td><ul class="first last simple">
<li>Sobrecalentamiento.</li>
<li>Errores en la
comunicación.</li>
</ul>
</td>
<td><ul class="first last simple">
<li>Empleo de un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>
barato que tiene una
onda de salida de mala
calidad.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Es obvio que un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> siempre es capaz de proteger del primer tipo de anomalía
(el apagón). Del resto de anomalías protegerá dependiendo de cuál sea tu tipo.</p>
</div>
<div class="section" id="tipos">
<h3>5.6.1.2. Tipos<a class="headerlink" href="#tipos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Hay tres tipos de <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>:</p>
<dl class="docutils">
<dt><strong>Offline</strong></dt>
<dd><p class="first">Es aquel que proporciona energía de sus baterías sólo mientras dure la
interrupción del suministro eléctrico. En condiciones normales, los
dispositivos que lo usan reciben corriente directamente de la red eléctrica,
por lo que presenta dos grandes incovenientes:</p>
<ul class="simple">
<li>Sólo es capaz de proteger de los tres primeros tipos de anomalía.</li>
<li>Cuando falla el suministro de red, existe un tiempo mínimo de conmutación
para que sean las baterías las que se hagan cargo de suministrar la
energía, por lo que en la práctica no proporcionan un suministro
ininterrumpido. Es decir, en estos <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>s, un fallo de tipo 1, se traduce
en fallo de tipo 7. Lo conveniente es que este tiempo sea menor a los 5 ms,
tiempo que son capaces de tolerar los ordenadores habituales.</li>
</ul>
<img alt="../../_images/sai-offline.png" class="last" src="../../_images/sai-offline.png" />
</dd>
<dt><strong>Online</strong></dt>
<dd><p class="first">En ellos se toma el suministro de red y se convierte en corriente continua
para cargar la batería, y de ésta se toma corriente continua que se vuelve a
convertir en alterna para alimentar a los dispositivos conectados. Esta
solución evita los nueve tipos de anomalías y no genera ningún problema en la
conmutación, porque de hecho es inexistente.</p>
<img alt="../../_images/sai-online.png" src="../../_images/sai-online.png" />
<p class="last">El problema de esta solución es que es muy cara.</p>
</dd>
<dt><strong>Inline</strong> o <strong>interactivo</strong></dt>
<dd><p class="first">Funcionan como los <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> <em>offline</em>, pero añaden un transformador que corrige
los siete primeros tipos de anomalías (las cinco primera siempre y la sexta y
la séptima muy habitualmente). y que durante la conmutación es capaz de mantener
la tensión.</p>
<img alt="../../_images/sai-inline.png" src="../../_images/sai-inline.png" />
<p class="last">La gran ventaja de esta solución frente a la anterior es que es mucho más
barata, por lo que la mayoría de los <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> para el mercado no profesional
utilizan este diseño.</p>
</dd>
</dl>
</div>
<div class="section" id="caracteristicas">
<h3>5.6.1.3. Características<a class="headerlink" href="#caracteristicas" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En la elección de un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> hay diversos factores a tener en cuenta:</p>
<dl class="docutils">
<dt><strong>Tipo</strong></dt>
<dd>El tipo discutido bajo el epígrafe anterior.</dd>
<dt><strong>Factor de forma</strong></dt>
<dd><p class="first">Refiere la forma externa del <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>, de la que podemos distinguir dos tipos:</p>
<ul class="last simple">
<li><em>Torre</em>, cuyas medidas dependenrán del modelo de <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>.</li>
<li><em>Enrackable</em>, que son aquellos <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> pensados para disponerlos dentro de un
<em>rack</em> (o bastidor). Tienen interés cuando ya se tiene un bastidor en que
se albergan servidores y dispositivos de red.</li>
</ul>
</dd>
<dt><strong>Potencia aparente</strong> (<em>S</em>)</dt>
<dd>Es la potencia máxima consumida por el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> de la red y que suele ser con la
que el fabricante lo caracteriza. Se mide en <abbr title="Voltiamperio">VA</abbr>. Esta, sin embargo, no
coincide con la potencia útil capaz de sumnistrar a los dispositivos, medida
en vatios (<strong>W</strong>).</dd>
<dt><strong>Potencia</strong> (<em>P</em>) / <strong>factor de potencia</strong> (<span class="math notranslate nohighlight">\(\cos \phi\)</span>)</dt>
<dd><p class="first">Es la potencia útil que el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> es capaz de suministrar a los dispotivos
conectados a él. Alternativamente, el fabricante puede proporcionar el factor
de potencia:</p>
<div class="last math notranslate nohighlight">
\[P = S * \cos \phi\]</div>
</dd>
<dt><strong>Baterías</strong></dt>
<dd><p class="first">Conocer las características de las baterías que incorpora, es
indispensable para estimar durante cuánto tiempo podrá alimentar el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> a
los dispostivos después de un corte de suministro. Por lo general:</p>
<ul>
<li><p class="first">Se usan baterías <abbr title="Sealed Lead Acid">SLA</abbr>, o sea, baterías selladas de ácido-plomo.</p>
</li>
<li><p class="first">El voltaje es de 12V.</p>
</li>
<li><p class="first">Tienen distintas capacidades (5Ah, 7Ah, 9Ah). Lo normal es que un SAI de
mayor potencia, tenga una batería de mayor capacidad o varias conectadas
en serie, lo cual supone sumar sus voltajes:</p>
<img alt="../../_images/bateria-serie.png" src="../../_images/bateria-serie.png" />
</li>
<li><p class="first">En principio, no parece haber un estándar sobre sus dimensiones, pero los
fabricantes tienden a hacerlas con <a class="reference external" href="https://www.powerstream.com/Size_SLA.htm">los mismos tamaños</a> y los <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>s comerciales a
montar baterías con estas dimensiones. Lógicamente, a mayor capacidad,
mayor tamaño.</p>
</li>
</ul>
<div class="last admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">El componente más frágil de un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> es la batería y es más que
común que, cuando un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> deja de funcionar, lo haga porque la batería
haya completado su vida útil. En este punto, lo que hay que hacer es
confirmar que la culpable es la batería y, si es así, cambiarla por una
batería de idénticas dimensiones, lo cual suele ser bastante sencillo y
económico.</p>
</div>
</dd>
<dt><strong>Monitorización</strong></dt>
<dd>Un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> puede permitir o no su monitorización a través de un puerto serie,
un puerto <abbr title="Universal Serial Bus">USB</abbr> o la conexión a red. Si nuestra intención es proteger al
equipo de irregularidades en el suministro exclusivamente, o bien,
asegurarnos de que ante un corte no perderemos el trabajo que estamos
haciendo en nuestro equipo, la monitorización es irrelevante. Sin embargo, si
el equipo es un servidor, es fundamental que el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> sea monitorizable, ya
que en ese caso podrá avisar al servidor de que su batería está próximo
agotarse y este podrá tomar la decisión de apagarse ordenadamente.</dd>
</dl>
</div>
</div>
<div class="section" id="estimaciones">
<h2>5.6.2. Estimaciones<a class="headerlink" href="#estimaciones" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Dos son las estimaciones que nos puede interesar hacer al adquirir un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>:</p>
<ul class="simple">
<li>De cuánta potencia se adquiere.</li>
<li>Cuánto durará en modo batería.</li>
</ul>
<div class="section" id="potencia-necesaria">
<h3>5.6.2.1. Potencia necesaria<a class="headerlink" href="#potencia-necesaria" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para calcular el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> basta con:</p>
<ol class="arabic simple">
<li>Sumar todas las potencias de los aparatos que conectaremos a través del <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>.</li>
<li>Tener presente que deberemos pasar las potencias expresadas en watios a <abbr title="Voltiamperio">VA</abbr>
utilizando el factor de potencia que proporcione el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>.</li>
<li>Que la suma de las potencias no supere el 70% de la potencia del <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>.</li>
</ol>
<p>Basándonos en estas reglas, supongamos que deseamos comprar un <em>SPS ONE</em> (<a class="reference external" href="https://www.salicru.com/files/documentacion/jm89200(1).pdf">Ficha</a>) para soportar un
monitor que consuma 30W, unos altavoces de 20W y una torre cuyo consumo puede
estimarse en 220W:</p>
<div class="math notranslate nohighlight">
\[P = 30 + 20 + 220 = 270 W \Longrightarrow \dfrac{270}{0.7} \approx 386 W\]</div>
<p>Como en la ficha de estos <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> se proporcionan directamente los valores de la
potencia activa, se puede elegir directamente el adecuado: el SPS 900 ONE de 900
<abbr title="Voltiamperio">VA</abbr> (o también el SPS 700 ONE que está muy poco por debajo de esa potencia).</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">En este caso, las potencias de los aparatos para el cálculo deben ser
las máximas.</p>
</div>
</div>
<div class="section" id="autonomia">
<span id="sai-autonomia"></span><h3>5.6.2.2. Autonomía<a class="headerlink" href="#autonomia" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para conocer cuánto tiempo será capaz el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> de mantener encendidos los
dispositivos que se alimentan a través de él, es preciso conocer cuánta potencia
consumen. Conocida esta potencia, toca obtener las características de las
baterías:</p>
<ul class="simple">
<li><strong>Tensión</strong>, típicamente de 12 voltios.</li>
<li><strong>Capacidad</strong>, medida en <em>Ah</em> (Amperios-hora).</li>
<li><strong>Eficiencia</strong>, que para las baterías de ácido-plomo, típica en los <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>
podemos estimar del 80%.</li>
</ul>
<p>El <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> puede tener varias baterías dispuestas en serie. La fórmula
general para obtener (en minutos) la autonomía del <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> es:</p>
<div class="math notranslate nohighlight">
\[t = \dfrac{C * (N * V)}{P} * E * 60\]</div>
<p>Por ejemplo, para un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> que sólo dispone una batería de ácido-plomo, de 7
Ah de capacidad y 12 voltios de tensión; y que está conectada a un servidor con
poca carga que consume unos 40W de potencia la autonomía en minutos es:</p>
<div class="math notranslate nohighlight">
\[t = \dfrac{7*(1*12)}{40}* 0,8 * 60 \approx 100\]</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">En este caso, sin embargo, para el cálculo de la autonomía, lo más
lógico es utilizar las potencias que normalmente consumen los dispositivos,
no las máximas.</p>
</div>
</div>
</div>
<div class="section" id="configuracion">
<h2>5.6.3. Configuración<a class="headerlink" href="#configuracion" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>s cumplen su función de defensa sin necesidad de configuración
alguna, ahora bien, si queremos que los equipos atiendan sus alarmas y obren en
consecuencia, sí es preciso configurar el servidor. Es común que para este
propósito el propio <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> proporcione <em>software</em>, incluso con versión para
Linux, pero lo conveniente es procurarse uno para el que tenga soporte <a class="reference external" href="https://networkupstools.org/">Nut</a>,
que tiene paquete en las principales distribuciones.</p>
<p>Por lo general, los <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>s disponen de un conexión serie o <abbr title="Universal Serial Bus">USB</abbr> a través de
la cual pueden conectarse a un equipo que recibe los avisos en sus cambios de
estado, al que denominaremos <em>maestro</em>. Las dos supuestos que estudiaremos son:</p>
<ol class="arabic simple">
<li>El <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> sólo proporciona protección al equipo con el que se comunica
(<em>maestro</em>).</li>
<li>El <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> proporciona protección al <em>maestro</em> y a uno o varios equipos
adicionales (<em>esclavos</em>).</li>
</ol>
<img alt="../../_images/sai.png" src="../../_images/sai.png" />
<div class="section" id="que-sai-configuramos">
<h3>5.6.3.1. ¿Qué <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> configuramos?<a class="headerlink" href="#que-sai-configuramos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Utilizaremos un <a class="reference external" href="https://m.salicru.com/sais/sps-one.html">Salicru SPS 500 ONE</a>
del que el enlace proporciona alguna información y <a class="reference external" href="https://www.salicru.com/files/documentacion/ek80800(1).pdf">un manual</a> con información
técnica bastante relevante, como que el modelo de 500 <abbr title="Voltiamperio">VA</abbr> incorpora una única
batería de 4,5 Ah<a class="footnote-reference" href="#id4" id="id2">[1]</a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">Si no dispone de <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> alguno, aún <a class="reference internal" href="#sin-sai"><span class="std std-ref">puede probar la
configuración</span></a>.</p>
</div>
</div>
<div class="section" id="maestro">
<h3>5.6.3.2. Maestro<a class="headerlink" href="#maestro" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En el <em>maestro</em>, tras llevar a cabo su alimentación a través del <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> y conectarlo
por <abbr title="Universal Serial Bus">USB</abbr>, necesitamos <strong>instalar</strong> dos servicios diferentes:</p>
<ul class="simple">
<li><strong class="program">nut-server</strong>, que se encarga de atender las comunicaciones del <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>
y generar mensajes que es capaz de procesar el servicio de monitorización.</li>
<li><strong class="program">nut-client</strong>, que monitoriza los mensajes de <strong class="program">nut-server</strong> y
permite definir las acciones que queremos llevar a cabo en base a ellos.</li>
</ul>
<p>Para hacerlo basta con instalar el metapaquete <em>nut</em>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> apt install nut
</pre></div>
</div>
<p>Los ficheros de configuración se encuentran todos dentro de <code class="file docutils literal notranslate"><span class="pre">/etc/nut</span></code> y
es dentro de ese directorio donde tenemos que hacer todos los cambios.</p>
<p>En <code class="file docutils literal notranslate"><span class="pre">nut.conf</span></code> es preciso indicar en qué modo actúa el servidor:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">MODE</span><span class="o">=</span>standalone  <span class="c1"># Para el primer caso (sin esclavos)</span>
<span class="c1">#MODE=netserver  # Para el segundo caso (con esclavos)</span>
</pre></div>
</div>
<p>En <code class="file docutils literal notranslate"><span class="pre">ups.conf</span></code> debemos definir cuál es el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> que configuramos. Para un
<cite>Salicru SPS One</cite>, por ejemplo:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[salicru]</span>
<span class="na">driver</span> <span class="o">=</span> <span class="s">blazer_usb</span>
<span class="na">port</span>   <span class="o">=</span> <span class="s">auto</span>
<span class="na">desc</span>   <span class="o">=</span> <span class="s">&quot;Salicru SPS One 900VA&quot;</span>
</pre></div>
</div>
<p>«salicru» es el nombre que le hemos adjudicado a nuestro <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>: podemos escoger
cualquier otro. Es preciso editar <code class="file docutils literal notranslate"><span class="pre">upsd.conf</span></code> para indicar en dónde
escuchará el servidor:</p>
<div class="highlight-nginx notranslate"><div class="highlight"><pre><span></span><span class="k">LISTEN</span> <span class="mi">127</span><span class="s">.0.0.1</span> <span class="mi">3499</span>  <span class="c1"># Para modo standalone (primer caso)</span>
<span class="c1">#LISTEN 0.0.0.0 3499   # Para modo netserver (primer caso)</span>
</pre></div>
</div>
<p>Además, es preciso definir los usuarios con permisos en <code class="file docutils literal notranslate"><span class="pre">upsd.users</span></code>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># Administrador con capacidad para configurar opciones</span>
<span class="k">[ædmin]</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">secretpass</span>
<span class="na">actions</span> <span class="o">=</span> <span class="s">SET</span>
<span class="na">instcmds</span> <span class="o">=</span> <span class="s">ALL</span>

<span class="c1"># Usuario que es capaz de monitorizar</span>
<span class="k">[monuser]</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">secretpass2</span>
<span class="na">upsmon master</span>
<span class="na">upsmon slave      # Sólo necesario en el caso 2.</span>
</pre></div>
</div>
<p>Con estas acciones, habremos configurado completamente el servidor. Ahora bien,
en el propio <em>maestro</em> debe actuar también el cliente monitor, de modo que
configuraremos el fichero <code class="file docutils literal notranslate"><span class="pre">upsmon.conf</span></code>:</p>
<div class="highlight-nginx notranslate"><div class="highlight"><pre><span></span><span class="k">MONITOR</span> <span class="s">salicru@localhost</span> <span class="mi">1</span> <span class="s">monuser</span> <span class="s">secretpass2</span> <span class="s">master</span>

<span class="c1"># Comando que queremos que se ejecute al producirse</span>
<span class="c1"># alguna notificación por parte de nut-server</span>
<span class="s">NOTIFYCMD</span> <span class="s">/usr/local/bin/notifyme.sh</span>

<span class="c1"># Modificamos algunos mensajes de aviso</span>
<span class="s">NOTIFYMSG</span> <span class="s">ONLINE</span>        <span class="s">&quot;SAI</span> <span class="s">&#39;%s&#39;</span> <span class="s">recibe</span> <span class="s">alimentacion&quot;</span>
<span class="s">NOTIFYMSG</span> <span class="s">ONBATT</span>        <span class="s">&quot;SAI</span> <span class="s">&#39;%s&#39;</span> <span class="s">usa</span> <span class="s">la</span> <span class="s">bateria&quot;</span>
<span class="s">NOTIFYMSG</span> <span class="s">LOWBATT</span>       <span class="s">&quot;SAI</span> <span class="s">&#39;%s&#39;</span> <span class="s">tiene</span> <span class="s">muy</span> <span class="s">poca</span> <span class="s">carga</span> <span class="s">de</span> <span class="s">bateria&quot;</span>
<span class="s">NOTIFYMSG</span> <span class="s">FSD</span>           <span class="s">&quot;SAI</span> <span class="s">&#39;%s&#39;</span> <span class="s">ordena</span> <span class="s">el</span> <span class="s">apagado&quot;</span>
<span class="s">NOTIFYMSG</span> <span class="s">COMMOK</span>        <span class="s">&quot;Se</span> <span class="s">ha</span> <span class="s">establecido</span> <span class="s">comunicacion</span> <span class="s">con</span> <span class="s">SAI</span> <span class="s">&#39;%s&#39;&quot;</span>
<span class="s">NOTIFYMSG</span> <span class="s">COMMBAD</span>       <span class="s">&quot;Se</span> <span class="s">ha</span> <span class="s">perdido</span> <span class="s">comunicacion</span> <span class="s">con</span> <span class="s">SAI</span> <span class="s">&#39;%s&#39;&quot;</span>
<span class="s">NOTIFYMSG</span> <span class="s">SHUTDOWN</span>      <span class="s">&quot;SAI</span> <span class="s">&#39;%s&#39;</span> <span class="s">comienza</span> <span class="s">su</span> <span class="s">propio</span> <span class="s">apagado&quot;</span>
<span class="s">NOTIFYMSG</span> <span class="s">REPLBATT</span>      <span class="s">&quot;La</span> <span class="s">bateria</span> <span class="s">de</span> <span class="s">SAI</span> <span class="s">&#39;%s&#39;</span> <span class="s">debe</span> <span class="s">reemplazarse&quot;</span>
<span class="s">NOTIFYMSG</span> <span class="s">NOCOMM</span>        <span class="s">&quot;SAI</span> <span class="s">&#39;%s&#39;</span> <span class="s">no</span> <span class="s">esta</span> <span class="s">disponible&quot;</span>

<span class="c1"># Qué hacer ante un aviso (los no definidos son SYSLOG+WALL)</span>
<span class="s">NOTIFYFLAG</span> <span class="s">ONLINE</span>       <span class="s">SYSLOG+WALL+EXEC</span>
<span class="s">NOTIFYFLAG</span> <span class="s">ONBATT</span>       <span class="s">SYSLOG+WALL+EXEC</span>
<span class="s">NOTIFYFLAG</span> <span class="s">LOWBATT</span>      <span class="s">SYSLOG+WALL+EXEC</span>
<span class="s">NOTIFYFLAG</span> <span class="s">NOCOMM</span>       <span class="s">SYSLOG</span>
<span class="s">NOTIFYFLAG</span> <span class="s">NOPARENT</span>     <span class="s">SYSLOG</span>
<span class="s">NOTIFYFLAG</span> <span class="s">REPLBATT</span>     <span class="s">SYSLOG+EXEC</span>
</pre></div>
</div>
<p>Esta configuración requiere explicación:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">MONITOR</span></code> indica cómo conectar con el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">NOTIFYCMD</span></code> es la orden que se ejecutará al comunicat <strong class="program">nut-server</strong>
alguno de los eventos. El <em>script</em> sólo se ejecuta para aquellos avisos
marcados con <code class="docutils literal notranslate"><span class="pre">EXEC</span></code> y deberemos escribirlo nosotros sabiendo que tiene
definida la variable de entorno <em>NOTIFYTYPE</em> con el tipo de evento y que su
primer argumento es el mensaje indicado en <code class="docutils literal notranslate"><span class="pre">NOTIFYFLAG</span></code>. Un <em>script</em>
que mande un mensaje de correo al administrador<a class="footnote-reference" href="#id5" id="id3">[2]</a>, puede ser este:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>

<span class="nv">USUARIO</span><span class="o">=</span><span class="s2">&quot;root&quot;</span>

<span class="nb">echo</span> <span class="s2">&quot;</span>
<span class="s2">From: root@localhost</span>
<span class="s2">To: </span><span class="nv">$USUARIO</span><span class="s2"></span>
<span class="s2">Subject: Mensaje del SAI -  </span><span class="nv">$NOTIFYTYPE</span><span class="s2"></span>

<span class="nv">$*</span><span class="s2">&quot;</span> <span class="p">|</span> /usr/sbin/sendmail -t
</pre></div>
</div>
</li>
<li><p class="first">Los <code class="docutils literal notranslate"><span class="pre">NOTIFYMSG</span></code> traducen los mensajes en inglés predeterminados para cada
tipo de evento.</p>
</li>
<li><p class="first">Los <code class="docutils literal notranslate"><span class="pre">NOTIFYFLAG</span></code> definen cómo se trata cada tipo de evento:</p>
<ul>
<li><p class="first">Si es <em>SYSLOG</em>, se escribe en el fichero de registro el mensaje. Para
consultar con posterioridad todos los mensajes del monitor puede usarse la
orden:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> journalctl -u nut-monitor
</pre></div>
</div>
</li>
<li><p class="first">Si es <em>WALL</em>, se escribe el mensaje en el sistema (aparecerá en la consola
a todo usuario que esté conectado).</p>
</li>
<li><p class="first">Si es <em>EXEC</em>, se ejecutará el <em>script</em> definido con <code class="docutils literal notranslate"><span class="pre">NOTIFYCMD</span></code>.</p>
</li>
<li><p class="first">Si es <em>IGNORE</em>, que es incompatible con los otros tres, no se hará
absolutamente nada.</p>
</li>
</ul>
</li>
</ul>
<p>Una vez establecida la configuración es necesario reiniciar ambos servidores:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> invoke-rc.d nut-server restart
<span class="gp">#</span> invoke-rc.d nut-client restart
</pre></div>
</div>
<p>y podemos comprobar el estado del <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> con la orden:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> upsc salicru@localhost
<span class="go">battery.charge: 100</span>
<span class="go">battery.voltage: 13.60</span>
<span class="go">battery.voltage.high: 13.00</span>
<span class="go">battery.voltage.low: 10.40</span>
<span class="go">battery.voltage.nominal: 12.0</span>
<span class="go">device.type: ups</span>
<span class="go">driver.name: blazer_usb</span>
<span class="go">driver.parameter.pollinterval: 2</span>
<span class="go">driver.parameter.port: auto</span>
<span class="go">driver.parameter.synchronous: no</span>
<span class="go">driver.version: 2.7.4</span>
<span class="go">driver.version.internal: 0.12</span>
<span class="go">input.current.nominal: 1.0</span>
<span class="go">input.frequency: 50.1</span>
<span class="go">input.frequency.nominal: 50</span>
<span class="go">input.voltage: 239.0</span>
<span class="go">input.voltage.fault: 239.0</span>
<span class="go">input.voltage.nominal: 230</span>
<span class="go">output.voltage: 239.0</span>
<span class="go">ups.beeper.status: enabled</span>
<span class="go">ups.delay.shutdown: 30</span>
<span class="go">ups.delay.start: 180</span>
<span class="go">ups.load: 22</span>
<span class="go">ups.productid: 5161</span>
<span class="go">ups.status: OL</span>
<span class="go">ups.type: offline / line interactive</span>
<span class="go">ups.vendorid: 0665</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p>Como el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> altera los valores de estas variables (p.e. si se piede
el suministro eléctrico el estado pasará a <em>OB</em>) es muy útil en estos casos
la orden <a class="reference internal" href="../../02.conbas/02.informacion/03.ficheros.html#watch"><span class="std std-ref">watch</span></a>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> watch -dn1 <span class="s2">&quot;upsc salicru@localhost | grep -E &#39;^(battery|ups)\.&#39;&quot;</span>
</pre></div>
</div>
<p class="last">que mostrará solamente las variables <em>battery.*</em> y <em>ups.*</em> y refrescará
automáticamente sus valores cada segundo.</p>
</div>
<p>Hay muchísimas otras variables que pueden consultarse en <a class="reference external" href="https://networkupstools.org/docs/user-manual.chunked/apcs01.html">la documentación de
Nut</a>), pero
de las que este <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> no informa. De entre las que devuelve son interesantes:</p>
<ul>
<li><p class="first"><strong>ups.status</strong>, que informa del estado en el que está trabajando la batería.
Se encuentra en <abbr title="On Line">OL</abbr>, es decir, recibiendo alimentación de la red. Si hubiera
un apagón (o lo fingiésemos, desconectado el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> de la red), pasaría al
estado <abbr title="On Battery">OB</abbr>, es decir, usando la batería. Si la situación se prolongara en el
tiempo, el estado pasaría a <abbr title="Low Battery">LB</abbr>, es decir, batería baja, y es a partir de
este estado que se envían las órdenes para que se apaguen ordenadamente los
equipos.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Dependiendo del <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>, el estado <abbr title="Low Battery">LB</abbr> está asociado a un nivel
mínimo de carga, dado por la variable <em>battery.charge.low</em>, o un tiempo
mínimo de autonomía dado por <em>battery.runtime.low</em>. Sin embargo, en este
<abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> no se informa de cuáles son esos niveles ni de cuál se usa.
Simplemente, el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> por un criterio que desconocemos exactamente alcanza
el estado y envía tal información. En otros <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>s más configurables sí
se nos podría informar e incluso se nos podría dejar alterar el criterio
modificando el valor de la variable.</p>
</div>
</li>
<li><p class="first"><strong>battery.charge</strong>, que informa de cuál es el porcentaje de la batería. En
este caso, la batería se encuentra totalmente cargada. Si desconectaramos
el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> de la red.</p>
</li>
<li><p class="first"><strong>ups.load</strong>, que informa de cuál es el porcentaje sobre la potencia total que
representan las potencias de todos los dispositivos conectados a través del
<abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>. En este caso, es el 22%, lo que significa que si la potencia total que
soporta el dispositivo es 240W, los dispositivos conectados están consumiendo
unos 53W. Obviamente este porcentaje depende de cuál sea el trabajo que los
dispotivos están realizando en cada momento, pero si estimamos cuál es la
cifra en condiciones normales de trabajo, podemos sacar una buena
<a class="reference internal" href="#sai-autonomia"><span class="std std-ref">estimación de la autonomía de la batería</span></a>.</p>
</li>
</ul>
</div>
<div class="section" id="esclavo">
<h3>5.6.3.3. Esclavo<a class="headerlink" href="#esclavo" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Un <em>esclavo</em> es un equipo cuya alimentación se realiza a través del <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>,
pero que no recibe sus comunicaciones, ya que estas se llevan a cabo a través de
<abbr title="Universal Serial Bus">USB</abbr> con el <em>maestro</em>. Para que pueden acceder a tales comunicaciones, es
necesario instalarle el monitor y hacer que este se comunique con el servidor
del <em>maestro</em>.</p>
<p>Así, primero instalamos exclusivamente el cliente:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> apt install nut-client
</pre></div>
</div>
<p>indicar en <code class="file docutils literal notranslate"><span class="pre">/etc/nut/nut.conf</span></code> que se trata de un cliente:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">MODE</span><span class="o">=</span>netclient
</pre></div>
</div>
<p>y, finalmente, configuar en <code class="file docutils literal notranslate"><span class="pre">/etc/nut/upsmon.conf</span></code> el cliente monitor del
mismo modo que lo configuramos en el <em>maestro</em>, con la única diferencia de la
directiva <code class="docutils literal notranslate"><span class="pre">MONITOR</span></code>:</p>
<div class="highlight-nginx notranslate"><div class="highlight"><pre><span></span><span class="k">MONITOR</span> <span class="s">salicru@192.168.0.2</span> <span class="mi">1</span> <span class="s">monuser</span> <span class="s">secretpass2</span> <span class="s">slave</span>
</pre></div>
</div>
<p>suponiendo que <em>192.168.0.2</em> sea la <abbr title="Internet Protocol">IP</abbr> del <em>maestro</em>. Todo lo referente a la
monitorización en el <em>maestro</em> (como el <em>script</em> de aviso o la orden
<strong class="command">upsc</strong>), es aplicable al <em>esclavo</em>.</p>
</div>
<div class="section" id="que-narices-hago-sin-sai">
<span id="sin-sai"></span><h3>5.6.3.4. ¿Qué narices hago sin <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>?<a class="headerlink" href="#que-narices-hago-sin-sai" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Si no se dispone de un <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>, puede probarse la configuración gracias al <a class="reference external" href="https://networkupstools.org/docs/man/dummy-ups.html">driver
dummy-ups</a>. Basta con
descargar un fichero que contiene los parámetros del router que pretendemos
comprar. Por ejemplo, en <a class="reference external" href="https://networkupstools.org/ddl/Salicru/SPS_One_700VA.html">esta página</a> hay un par de ellos y definir el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> del siguiente modo:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[dummy]</span>
<span class="na">driver</span> <span class="o">=</span> <span class="s">dummy-ups</span>
<span class="na">port</span> <span class="o">=</span> <span class="s">/usr/local/share/nut/SPS_One_700VA.dev</span>
<span class="na">desc</span> <span class="o">=</span> <span class="s">&quot;Salicru imaginario SPS One 700VA&quot;</span>
</pre></div>
</div>
<p>donde <kbd class="kbd docutils literal notranslate">port</kbd> indica la ruta donde hemos guardado el fichero. La restante
configuración es idéntica a la hecha para cuando el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> es real.</p>
<p>El <em>driver</em> relee el fichero cada cierto tiempo con lo que tenemos dos opciones
si queremos simular que nuestro <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> imaginario cambia su estado:</p>
<ul>
<li><p class="first">Una engorrosa que consiste en alterar directamente el fichero.</p>
</li>
<li><p class="first">La recomendable que consiste en alargar el tiempo de relectura del fichero
(a 5 minutos, por ejemplo):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> <span class="nb">echo</span> <span class="s2">&quot;TIMER 300&quot;</span> &gt;&gt; /usr/local/share/nut/SPS_One_700VA.dev
</pre></div>
</div>
<p>y usar el comando <strong class="command">upsrw</strong> para alterar sobre la marcha los valores:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> upsrw -s ups.load<span class="o">=</span><span class="m">15</span> -u admin dummy
</pre></div>
</div>
<p>que nos pedirá la contraseña del usuario <em>admin</em> que definimos anteriormente
con permisos para alterar variables. Durante cinco minutos podremos ir
haciendo cambios sin que el driver vuelva a recargar los valores originales
del fichero. Incluso podemos simular que el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> está en las últimas para
que el ordenador tome la determináción de apagarse:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> upsrw -s ups.status<span class="o">=</span><span class="s2">&quot;OB LB&quot;</span> -u admin dummy
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="enlaces-de-interes">
<h2>5.6.4. Enlaces de interés<a class="headerlink" href="#enlaces-de-interes" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://todosai.com/blog.html">Blog de todosai.com</a>.</li>
</ul>
<p class="rubric">Notas al pie</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>En cambio, si se abre el <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> podremos comprobar que hay espacio de
sobra y puede colocarse también una batería de 7 ó 9 Ah de las muy habituales
dimensiones 151mmx65mmx84mm, lo que aumentará su autonomía.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>Suponiendo, claro está, que se tenga instalado un servidor de correo en
la máquina.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">5.6. <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr></a><ul>
<li><a class="reference internal" href="#introduccion-teorica">5.6.1. Introducción teórica</a><ul>
<li><a class="reference internal" href="#anomalias-en-el-suministro">5.6.1.1. Anomalías en el suministro</a></li>
<li><a class="reference internal" href="#tipos">5.6.1.2. Tipos</a></li>
<li><a class="reference internal" href="#caracteristicas">5.6.1.3. Características</a></li>
</ul>
</li>
<li><a class="reference internal" href="#estimaciones">5.6.2. Estimaciones</a><ul>
<li><a class="reference internal" href="#potencia-necesaria">5.6.2.1. Potencia necesaria</a></li>
<li><a class="reference internal" href="#autonomia">5.6.2.2. Autonomía</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuracion">5.6.3. Configuración</a><ul>
<li><a class="reference internal" href="#que-sai-configuramos">5.6.3.1. ¿Qué <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr> configuramos?</a></li>
<li><a class="reference internal" href="#maestro">5.6.3.2. Maestro</a></li>
<li><a class="reference internal" href="#esclavo">5.6.3.3. Esclavo</a></li>
<li><a class="reference internal" href="#que-narices-hago-sin-sai">5.6.3.4. ¿Qué narices hago sin <abbr title="Sistema de Alimentación Ininterrumpida">SAI</abbr>?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#enlaces-de-interes">5.6.4. Enlaces de interés</a></li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="../06.grub/index.html"
                        title="capítulo anterior">5.5. Gestor de arranque</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="../10.instalacion/index.html"
                        title="próximo capítulo">5.7. Instalación del servidor</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/05.discos/07.sai/index.rst.txt"
            rel="nofollow">Mostrar el código</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="../10.instalacion/index.html" title="5.7. Instalación del servidor"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="../06.grub/index.html" title="5.5. Gestor de arranque"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">documentación de ServidorLinux - 0.1.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >5. Gestión de discos</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor 2016, José Miguel Sánchez Alés.
      Creado con <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>