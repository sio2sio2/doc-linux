


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>10.1.1.2.2.2. Gestión de memoria &#8212; documentación de ServidorLinux - 0.1.0</title>
    <link rel="stylesheet" href="../../../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../../../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Índice" href="../../../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../../../search.html" />
    <link rel="next" title="10.1.1.2.2.3. Gestión de Entrada/Salida" href="03.io.html" />
    <link rel="prev" title="10.1.1.2.2.1. Gestión de procesos" href="01.procesos.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="03.io.html" title="10.1.1.2.2.3. Gestión de Entrada/Salida"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="01.procesos.html" title="10.1.1.2.2.1. Gestión de procesos"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../index.html">documentación de ServidorLinux - 0.1.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../index.html" >10. Guías para ciclos formativos</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../index.html" >10.1. Sistemas Operativos Monopuesto</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >10.1.1.2. Sistemas operativos</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="../02.gestion.html" accesskey="U">10.1.1.2.2. Funciones</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="gestion-de-memoria">
<h1>10.1.1.2.2.2. Gestión de memoria<a class="headerlink" href="#gestion-de-memoria" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Antes de estudiar cómo gestiona el sistema operativo la memoria, es preciso
recordar dos aspectos ya señalados:</p>
<ul>
<li><p class="first">La ejecución de todo programa supone que tanto su código como los datos que
manipula se copien en la memoria <abbr title="Random Access Memory">RAM</abbr>.</p>
</li>
<li><p class="first">La memoria está dividida en celdas cuyo contenido constituye una
<em class="dfn">palabra</em>, por lo general de un byte, cada una de las cuales se
referencia mediante una dirección de memoria única. Al total de la memoria se
lo denomina <em class="dfn">espacio físico de memoria</em>. Por ejemplo, para una memoria
<abbr title="Random Access Memory">RAM</abbr> de 16 MiB, el espacio de memoria va desde la dirección <code class="docutils literal notranslate"><span class="pre">0x000000</span></code> a la
dirección <code class="docutils literal notranslate"><span class="pre">0xFFFFFF</span></code>:</p>
<img alt="../../../../_images/espaciomemoria.png" src="../../../../_images/espaciomemoria.png" />
</li>
</ul>
<p>El espacio físico de memoria está bastante limitado (la memoria <abbr title="Random Access Memory">RAM</abbr> es cara),
por lo que una labor muy importante del sistema operativo es gestionar cómo los
procesos utilizarán esta memoria.</p>
<div class="section" id="ocupacion-de-memoria">
<h2>10.1.1.2.2.2.1. Ocupación de memoria<a class="headerlink" href="#ocupacion-de-memoria" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Al crear un proceso, sus necesidades de memoria son las siguientes:</p>
<ul class="simple">
<li>Un <abbr title="Process Control Block">PCB</abbr>, cuyos metadatos requiere el sistema operativo para gestionarlo.</li>
<li>Un <em class="dfn">espacio virtual de memoria</em> en el que se almacenan el código y
los datos que manipula. Éste espacio virtual, a su vez, se compone de
cuatro espacios:<ul>
<li><strong>Código</strong>, que es espacio reservado para las instrucciones del programa
y que, obviamente, no varía a lo largo de la ejecución del proceso.</li>
<li><strong>Datos</strong>, que se corresponden con los datos iniciales del programa
y que, aunque puedan cambiar de valor, no cambian su tamaño.</li>
<li><strong>Montículo</strong>, que contiene los datos que se creen dinámicamente durante
la ejecución. Este espacio es dinámico y, por tanto, de tamaño variable
durante la ejecución.</li>
<li><strong>Pila</strong>, que contiene las llamadas anidadas a fragmentos distintos de código
cada uno de los cuales tiene un contexto propio, esto es, un conjunto de
datos distintos. Es necesario mantener la pila, porque un fragmento de
código, sin haber terminado su ejecución, puede crear otro y pasar a
ejecutar este. Como al terminar este segundo, se vuelve al primer fragmento,
es necesario recordar por cuál instrucción iba la ejecución en el momento
del salto y cuáles eran los datos que se manejaban entonces. Este espacio
también es variable: comienza no ocupando memoria y crece y decrece
durante la ejecución según haya más o menos contextos anidados.</li>
</ul>
</li>
</ul>
<p>En este espacio virtual, cuya primera dirección siempre es <code class="docutils literal notranslate"><span class="pre">0x0</span></code> se colocan al principio el <em>código</em> y los <em>datos</em>, que tiene tamaño fijo; el <em>monticulo</em>, que al comienzo no tendrá ningún tamaño empieza a crecer a continuación y la <em>pila</em>, que también es variable, se coloca al final del espacio y empieza a crecer hacia direcciones virtuales de memoria más bajas.</p>
<img alt="../../../../_images/segmeprog.png" src="../../../../_images/segmeprog.png" />
<p>Estas direcciones virtuales son con las que trabaja internamente cada proceso. Ahora bien, estos datos deben estar almacenados, en realidad, en direcciones físicas de memoria, por lo que es necesario hacer una traducción entre estas direcciones virtuales y las direcciones físicas, que determinarán en qué parte de la memoria está alojado realmente el proceso.</p>
</div>
<div class="section" id="tecnicas">
<h2>10.1.1.2.2.2.2. Técnicas<a class="headerlink" href="#tecnicas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Existen distintas técnicas para alojar los procesos en memoria.</p>
<div class="section" id="particiones">
<h3>10.1.1.2.2.2.2.1. Particiones<a class="headerlink" href="#particiones" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En esta solución la memoria se divide en bloques que ocupan direcciones
contiguas de memoria física, a los que se denomina <em class="dfn">partición</em>. Cada
partición comienza en una dirección de memoria, que se denomina <em class="dfn">registro
base</em> y tiene un tamaño concreto que determina cuál es su <em class="dfn">registro
límite</em>. En esta técnica a cada proceso se le asigna una única partición y una
partición sólo puede estar ocupada por un único proceso. El sistema operativo
se encarga de mantener el registro de dónde comienza cada partición, cuánto
tamaño tiene y qué proceso la está ocupando. Como todo proceso debe caber en un
partición, esto obliga a que los espacios virtuales de memoria sean pequeños
(como máximo el tamaño de la partición mayor).</p>
<p>El particionado puede ser de dos tipos:</p>
<dl class="docutils">
<dt><strong>Fijo</strong></dt>
<dd>La memoria se particiona de antemano, de manera que las particiones son
fijas, aunque no todas tienen por qué tener el mismo tamaño. Su principal
desventaja es que los espacios virtuales de los procesos no casan en tamaño
exactamente con las particiones, por lo que la parte de la partición que no
haya sido ocupada por el proceso al que se le ha asignado, no puede
aprovecharse. Esta circunstancia se denomina <em class="dfn">fragmentación interna</em>.</dd>
<dt><strong>Dinámico</strong></dt>
<dd>Las particiones se van creando ajustándose al tamaño de cada proceso. En
este caso, no existe <em>fragmentación interna</em>, pero cuando un proceso acabe,
se liberará la partición que tendrá el tamaño del proceso extinto. Como
un nuevo proceso es probable que requiera un tamaño distinto, quedan entonces
también huecos de memoria entre particiones sin utilizar. En este caso se habla
de <em>fragmentación externa</em>.</dd>
</dl>
</div>
<div class="section" id="paginacion">
<h3>10.1.1.2.2.2.2.2. Paginación<a class="headerlink" href="#paginacion" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En la técnica de las particiones cada proceso ocupa siempre direcciones de
memoria contiguas. La paginación, en cambio, no exige eso. En ella, el sistema
operativo divide el espacio de memoria física en bloques de tamaño fijo, a los
que se denomina <em class="dfn">frames</em>, y el espacio virtual de memoria de cada proceso
en bloques llamados páginas que tienen el mismo tamaño que los <em>frames</em>. Tanto
páginas como <em>frames</em> se numeran correlativamente.</p>
<p>La técnica consiste en asociar a cada página un <em>frame</em> distinto, pero sin la
necesidad de que a las páginas de un proceso se le asignen <em>frames</em> contiguos.
Para ello el sistema operativo crea para cada proceso una tabla de paginación
que lleva el control de estas asignaciones. En el <abbr title="Process Control Block">PCB</abbr> deberá existir un
puntero a la correspondiente tabla de paginación.</p>
<p>La técnica sigue producción <em>fragmentación interna</em>, pero en mucha menor medida
que la técnica de particiones fijas.</p>
</div>
<div class="section" id="segmentacion">
<h3>10.1.1.2.2.2.2.3. Segmentación<a class="headerlink" href="#segmentacion" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Esta técnica consiste en fragmentar el espacio virtual de memoria en bloques, llamados
<em class="dfn">segmentos</em> dentro de los cuales se almacena información que comparta algo
en común. Estos segmentos se asignan a espacio en la memoria física que no
tiene que ser contiguo, de manera que el sistema operativo irá buscando huecos
libres para ubicarlos.</p>
<p>El sistema operativo debe crear para cada proceso una tabla con todos los
segmentos de los que se compone indicando qué dirección física ocupa y cuál es
su tamaño. Esta técnica, como la de <em>particiones dinámicas</em> presenta
<em>fragmentación externa</em>, pero en mucha menor medida.</p>
</div>
<div class="section" id="memoria-virtual">
<h3>10.1.1.2.2.2.2.4. Memoria virtual<a class="headerlink" href="#memoria-virtual" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Esta técnica, que se compagina con la de paginación o segmentación, permite
alojar en memoria <abbr title="Random Access Memory">RAM</abbr> no todo el proceso, sino sólo las páginas o segmentos
del fragmento de código y los datos que se estén ejecutando; el resto se guarda
en memoria secundaria y se rescata de ella, cuando se necesite.</p>
<p>Ahora bien, como la memoria secundaria es muchísimo más lenta, la memoria
virtual sólo se usa en caso de que sea estrictamente necesario, esto es, cuando
el proceso que se quiere cargar en memoria necesita más espacio de la memoria
disponible. También es posible que el sistema decida que de otro proceso ya
cargado en memoria <abbr title="Random Access Memory">RAM</abbr> todo o parte pase a memoria virtual. Al volver a la
memoria principal, no tendrá por qué ocupar las mismas direcciones de memorias.</p>
<p>La zona de la memoria secundaria que se usa como memoria de intercambio no es
caprichosa, es una zona especial reservada para tal fin que se llama memoria de
intercambio, memoria <em>swap</em> o, simplemente, <em>swap</em>. En los sistemas <em>Windows</em>
se usa un fichero definido para tal fin; en los sistemas <em>linux</em>, aunque es
posible el uso del fichero, es común, la creación de una partición especial en
el disco duro dedicada exclusivamente a este fin.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Hacer demasiado uso de la memoria de intercambio penaliza el
rendimiento, y es señal de que debemos ir pensando en aumentar la memoria
<abbr title="Random Access Memory">RAM</abbr> del equipo.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">10.1.1.2.2.2. Gestión de memoria</a><ul>
<li><a class="reference internal" href="#ocupacion-de-memoria">10.1.1.2.2.2.1. Ocupación de memoria</a></li>
<li><a class="reference internal" href="#tecnicas">10.1.1.2.2.2.2. Técnicas</a><ul>
<li><a class="reference internal" href="#particiones">10.1.1.2.2.2.2.1. Particiones</a></li>
<li><a class="reference internal" href="#paginacion">10.1.1.2.2.2.2.2. Paginación</a></li>
<li><a class="reference internal" href="#segmentacion">10.1.1.2.2.2.2.3. Segmentación</a></li>
<li><a class="reference internal" href="#memoria-virtual">10.1.1.2.2.2.2.4. Memoria virtual</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="01.procesos.html"
                        title="capítulo anterior">10.1.1.2.2.1. Gestión de procesos</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="03.io.html"
                        title="próximo capítulo">10.1.1.2.2.3. Gestión de Entrada/Salida</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../_sources/10.guias/01.som/02.ssoo/02.gestion/02.memoria.rst.txt"
            rel="nofollow">Mostrar el código</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="03.io.html" title="10.1.1.2.2.3. Gestión de Entrada/Salida"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="01.procesos.html" title="10.1.1.2.2.1. Gestión de procesos"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../index.html">documentación de ServidorLinux - 0.1.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../index.html" >10. Guías para ciclos formativos</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../index.html" >10.1. Sistemas Operativos Monopuesto</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >10.1.1.2. Sistemas operativos</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="../02.gestion.html" >10.1.1.2.2. Funciones</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor 2016, José Miguel Sánchez Alés.
      Creado con <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>