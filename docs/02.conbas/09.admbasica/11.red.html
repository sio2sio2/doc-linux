


<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2.6.5. Configuración de red &#8212; documentación de Linuxnomicón - rolling</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="2.7. Tratamiento de texto" href="../10.texto/index.html" />
    <link rel="prev" title="2.6.4. Escalada de privilegios" href="10.sudo.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../10.texto/index.html" title="2.7. Tratamiento de texto"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="10.sudo.html" title="2.6.4. Escalada de privilegios"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">documentación de Linuxnomicón - rolling</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" ><span class="section-number">2. </span>Conceptos básicos</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U"><span class="section-number">2.6. </span>Administración básica</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">2.6.5. </span>Configuración de red</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="configuracion-de-red">
<span id="redminima"></span><h1><span class="section-number">2.6.5. </span>Configuración de red<a class="headerlink" href="#configuracion-de-red" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Los sistemas <em>linux</em> permiten una configuración amplísima de las interfaces de
red, y profundizar en ello requeriría un tratamiento muchísimo más amplio del
que aquí se mostrará<a class="footnote-reference brackets" href="#id5" id="id1">1</a>. Bajo este epígrafe nos limitaremos a indicar cómo
hacer una configuración simple de las interfaces, tanto con herramientas
comunes a todas las distribuciones de <em>linux</em> como con las herramientas que
provee <em>Debian</em>.</p>
<p>Tenga presente que el método de configuración que ofrece <em>Debian</em>
(<a class="reference internal" href="#ifupdown"><span class="std std-ref">ifupdown</span></a>) y el uso de las <a class="reference internal" href="#net-univ"><span class="std std-ref">herramientas generales</span></a> es alternativo y <strong>no debe mezclarse</strong>: o configuramos con uno o con
el otro. Por ese motivo, si una interfaz está activa porque se usó la
herramienta <a class="reference internal" href="#ifup"><span class="std std-ref">ifup</span></a> de <em>Debian</em>, sólo debemos manipularña usando las
herramientas generales, si previamente la desactivamos usando <a class="reference internal" href="#ifdown"><span class="std std-ref">ifdown</span></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>El epígrafe está referido a interfaces de cable, que son las
habituales en servidores. Las interfaces inalámbricas son más engorrosas ya
que es común que cambien la red a la que están conectada con todo lo que ello
supone (cambio del <abbr title="Service Set IDentifier">SSID</abbr>, cambio de la
contraseña de acceso, etc.). Aunque es posible configurar estas interfaces
a travñes de la línea de órdenes y ficheros de configuración, lo más cómodo
(y recomendable) es usar herramientas más amigables e inmediatas como las que
se exponen en <a class="reference internal" href="#otros-conf-red"><span class="std std-ref">el epígrafe referente a otros modos de configuración</span></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p><a class="reference external" href="https://ubuntu.com/">Ubuntu</a>, aunque basada en <em>Debian</em>, usa
como herramienta de configuración de red, desde su versión 18, <cite>netplan
&lt;https://netplan.io/&gt;</cite> y no <a class="reference internal" href="#ifupdown"><span class="std std-ref">ifupdown</span></a>.</p>
</div>
<div class="section" id="interfaces-presentes">
<h2><span class="section-number">2.6.5.1. </span>Interfaces presentes<a class="headerlink" href="#interfaces-presentes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Antes de poner a configurar interfaces es indispensable saber qué interfaces hay
presentes en nuestro sistema. Para que el sistema registre una interfaz es
necesario que tal interfaz exista, pero también que haya un driver apropiado que
nos permita usarla.</p>
<p>Tradicionalmente, las interfaces ethernet cableadas se han venido llamando
<code class="docutils literal notranslate"><span class="pre">ethN</span></code> siendo <code class="docutils literal notranslate"><span class="pre">N</span></code> un número correlativo empezando en 0 (<em>eth0</em>, <em>eth1</em>,
etc.) y las interfaces inalámbricas <code class="docutils literal notranslate"><span class="pre">wlanN</span></code>. Con el advenimiento de
<a class="reference internal" href="../../04.servidor/03.init/index.html#systemd"><span class="std std-ref">systemd</span></a>, sin embargo, el nombre de las interfaces ha cambiado<a class="footnote-reference brackets" href="#id6" id="id2">2</a>. Ahora se usa un sistema de nombres que intenta evitar el que el núcleo
cambie el nombre de las interfaces al ser cambiar su número o hacerse
sustituciones.</p>
<p>Para conocer cuáles son las interfaces presentes, basta con mirar dentro de
<code class="file docutils literal notranslate"><span class="pre">/sys/class/net</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ls /sys/class/net
<span class="go">eth0  lo</span>
</pre></div>
</div>
<p>También es posible obtener las interfaces a través del comando <a class="reference internal" href="../../08.redes/index.html#ip"><span class="std std-ref">ip</span></a>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> ip link show
</pre></div>
</div>
</div>
<div class="section" id="configuracion-en-debian">
<span id="ifupdown"></span><h2><span class="section-number">2.6.5.2. </span>Configuración en debian<a class="headerlink" href="#configuracion-en-debian" title="Enlazar permanentemente con este título">¶</a></h2>
<p><em>Debian</em> gestiona sus interfaces preferentemente a través de los <em>scripts</em> que
proporciona el paquete <strong>ifupdown</strong>, los cuales consultan el contenido del
fichero <code class="file docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code><a class="footnote-reference brackets" href="#id7" id="id3">3</a>. Por tanto, configurar las
interfaces de red mediante este método supone fundamentalmente:</p>
<ul class="simple">
<li><p>Saber cómo expresar la configuración de las interfaces dentro de
<code class="file docutils literal notranslate"><span class="pre">/etc/netwoek/interfaces</span></code>.</p></li>
<li><p>Utiliazar las herramientas de activación (<a class="reference internal" href="#ifup"><span class="std std-ref">ifup</span></a>)
y desactivación (<a class="reference internal" href="#ifdown"><span class="std std-ref">ifdown</span></a>).</p></li>
<li><p>Saber cómo definir los servidores <abbr title="Domain Name Server">DNS</abbr> para la resolución de nombres.</p></li>
</ul>
<p class="rubric">Herramientas</p>
<p>Las fundamentables son:</p>
<span class="target" id="ifup"></span><dl id="index-0">
<dt><strong class="command">ifup</strong></dt><dd><p>Permite activar la interfaz suministrada (puede pasarse varias) con la
configuración indicada en <code class="file docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> ifup eth0
</pre></div>
</div>
<p>Es interesante la opción <code class="docutils literal notranslate"><span class="pre">-v</span></code> que muestra información adicional sobre el
proceso de activación.</p>
</dd>
</dl>
<span class="target" id="ifdown"></span><dl id="index-1">
<dt><strong class="command">ifdown</strong></dt><dd><p>Permite desactivar una interfaz previamente activada con <strong class="command">ifup</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> ifdown eth0
</pre></div>
</div>
<p>Para que esto funcione la interfaz debió ser activada con <strong class="command">ifup</strong>. Si
se activó de cualquier otro modo, la interfaz no estará registrada como
activa, de modo que <strong class="command">ifdown</strong> no hará nada.</p>
<p>Puede también incluirse la opción <code class="docutils literal notranslate"><span class="pre">-v</span></code> y otra de interés es <code class="docutils literal notranslate"><span class="pre">--force</span></code> que
completa el proceso de desactivación incluso aunque se hayan producido
errores. Por ejemplo, porque se desactivara la interfaz de forma manual y,
cuando <strong class="command">ifdown</strong> intente desactivarla, se encuentre con que la
interfaz no tiene configuración.</p>
</dd>
</dl>
<span class="target" id="ifquery"></span><dl id="index-2">
<dt><strong class="command">ifquery</strong></dt><dd><p>Permite hacer consultas sobre las interfaces gestionadas. Lo más habitual
es preguntar por cuál es la configuración de una interfaz:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ifquery eth0
<span class="go">address: 192.168.4.20/24</span>
<span class="go">gateway: 192.168.4.253</span>
<span class="go">up: iptables -t nat -A POSTROUTING -o $IFACE -j MASQUERADE</span>
<span class="go">down: iptables -t nat -D POSTROUTING -o $IFACE -j MASQUERADE</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>La orden nos devuelve la configuración que se encuentra en
<code class="file docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code>, no la que realmente tenga la interfaz,
que pueden diferir, si se deshabilito la interfaz con <a class="reference internal" href="#ifdown"><span class="std std-ref">ifdown</span></a> y se volvió a configurar de modo diferente con las
<a class="reference internal" href="#net-univ"><span class="std std-ref">herramientas generales</span></a>.</p>
</div>
<p>También puede usarse:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ifquery --state
<span class="go">lo=lo</span>
<span class="go">eth0=eth0</span>
</pre></div>
</div>
<p>que nos devolverá la interfaces activas a través de <strong class="command">ifup</strong>.</p>
</dd>
</dl>
<p class="rubric">Fichero de confiuración</p>
<p>En realidad, el meollo de la configuración está en la escritura de
<code class="file docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code>. Mostremos un fichero con la interfaz de
<em>loopback</em>, una interfaz <em>eth0</em> configurada de forma dinámica y una interfaz
<em>eth1</em> cpmfigurada de forma estática:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>auto lo
iface lo inet loopback

<span class="c1"># Configuración dinámica (obsérvese dhcp)</span>
allow-hotplug eth0
iface eth0 inet dhcp

<span class="c1"># Configuración estática (obsérvese static)</span>
allow-hotplug eth1
iface eth1 inet static
   address <span class="m">192</span>.168.1.4/24
   gateway <span class="m">192</span>.168.1.1
</pre></div>
</div>
<p>La configuración es bastante elocuente. La segunda interfaz, al tener una
configuración estática, necesita algunos datos (<em>ip</em> y máscara, y puerta de
enlace). Obsérvese que no se incluyen los servidores <abbr title="Domain Name Service">DNS</abbr><a class="footnote-reference brackets" href="#id8" id="id4">4</a>, porque estos no se expresan en este fichero, sino en
<code class="file docutils literal notranslate"><span class="pre">/etc/resolv.conf</span></code>.</p>
<p>Sí es pertinente aclarar por qué algunas interfaces van acompañadas de la
palabra <kbd class="kbd docutils literal notranslate">auto</kbd> y otras de la palabra <kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">allow</kbd>-<kbd class="kbd docutils literal notranslate">hotplug</kbd></kbd>. Incluso podría
haber otras sin ninguna de esas dos líneas. En este último caso, la interfaz
no se activará durante el arranque y tendrá que ser el usuario quien manualmente
lo haga mediante <a class="reference internal" href="#ifup"><span class="std std-ref">ifup</span></a>. En cambio, una de esas dos dos líneas,
activa automáticamente en el arranque la interfaz, pero con un matiz diferente:
<kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">allow</kbd>-<kbd class="kbd docutils literal notranslate">hotplug</kbd></kbd> activa la interfaz si se detecta que esta existe y, si no
existe, no ocurrirá nada, mientras que <kbd class="kbd docutils literal notranslate">auto</kbd> intentará activar la interfaz
siempre y, si no existe, provocará un error visible. La regla general es que
<kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">allow</kbd>-<kbd class="kbd docutils literal notranslate">hotplug</kbd></kbd> se usa con interfaces físicas,  mientras que <kbd class="kbd docutils literal notranslate">auto</kbd> se
usa con interfaces virtuales que no existen previamente, sino que se crear al
ser activadas y que, por tanto, no pueden existir con anterioridad.</p>
<p>Es posible añadir también en la configuración de cada interfaz líneas que
comiencen con <kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">pre</kbd>-<kbd class="kbd docutils literal notranslate">up</kbd></kbd>, <kbd class="kbd docutils literal notranslate">up</kbd>, <kbd class="kbd docutils literal notranslate">down</kbd> y <kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">post</kbd>-<kbd class="kbd docutils literal notranslate">down</kbd></kbd>. Estas
líneas permiten ejecutar comandos arbitrarios justamente antes de activar la
interfaz, tras haberlo hecho, justamente antes de desactivarla o después de
haberlo hecho. Es bastante común el caso en que queremos añadir alguna regla en
el <a class="reference internal" href="../../08.redes/07.cortafuegos/index.html#firewall"><span class="std std-ref">cortafuegos</span></a> al levantar la interfaz y borrarla al
desactivarla:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">allow-hotplug eth0</span>
<span class="go">iface eth0 inet dhcp</span>
<span class="go">   pre-up    iptables -A POSTROUTING -o $IFACE -j MASQUERADE</span>
<span class="go">   post-down iptables -D POSTROUTING -o $IFACE -j MASQUERADE</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Si pretende cambiar la configuración de una interfaz, es muy
importante que antes de editar el fichero, la desactive con <a class="reference internal" href="#ifdown"><span class="std std-ref">ifdown</span></a>.  Esto es debido a que para desactivar una interfaz, este <em>script</em>
no atiende a cómo se configuró la interfaz, sino a cual es la configuración
escrita en el fichero en el momento de ejecutar <a class="reference internal" href="#ifdown"><span class="std std-ref">ifdown</span></a>. Por
eso, si al activarse la interfaz, la configuración era estática, los
<em>scripta</em> usarán internamente la orden <a class="reference internal" href="../../08.redes/index.html#ip"><span class="std std-ref">ip</span></a>. Si antes de
desactivaer la interfaz, modifica el fichero y vuelve la configuración
dinámica, al hacer <a class="reference internal" href="#ifdown"><span class="std std-ref">ifdown</span></a>. el <em>script</em> no desactivará la
interfaz con <a class="reference internal" href="../../08.redes/index.html#ip"><span class="std std-ref">ip</span></a>, sino que intentará usar internamente
<a class="reference internal" href="../../06.infraestructura/02.dhcp/02.tipos.html#dhclient"><span class="std std-ref">dhclient</span></a> y, obviamente, fallará.</p>
</div>
<p class="rubric">DNS</p>
<p>Queda, por último, tratar la configuración de los servidores <abbr title="Domain Name Service">DNS</abbr> en el fichero <code class="file docutils literal notranslate"><span class="pre">/etc/resolv.conf</span></code>. Si la configuración es
dinámica, el propio cliente <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> se encarga de escribir este fichero y no hay
que hacer ninguna configuración. En cambio, si la configuración es estática, sí
habrá que escribirlo o al menos cerciorarse que es válido. Se explicará
su contenido <a class="reference internal" href="#bas-resolv-conf"><span class="std std-ref">dentro del epígrafe siguiente</span></a>.</p>
<div class="admonition note" id="resolvconf">
<p class="admonition-title">Nota</p>
<p>Alternativamente se puede instalar y utilizar el programa
<em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/resolvconf">resolvconf</a></em> que se encarga de gestionar por nosotros el fichero
<code class="file docutils literal notranslate"><span class="pre">/etc/resolv.conf</span></code>. En este caso, no debe modificarse jamás a mano tal
fichero y cuando la configuración de la interfaz sea estática incluir en la
definición de la interfaz una línea que le indique a <strong class="program">resolvconf</strong>
cuáles son los servidores de nombres:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">allow-hotplug eth0</span>
<span class="go">iface eth0 inet static</span>
<span class="go">   address        192.168.1.4/24</span>
<span class="go">   gateway        192.168.1.1</span>
<span class="go">   dns-nameserver 1.1.1.1</span>
<span class="go">   dns-nameserver 1.0.0.1</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="configuracion-universal">
<span id="net-univ"></span><h2><span class="section-number">2.6.5.3. </span>Configuración universal<a class="headerlink" href="#configuracion-universal" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Recuerde que, para utilizar estas herramientas, debe cerciorarse
primero de que la interfaz no se activó mediante <a class="reference internal" href="#ifup"><span class="std std-ref">ifup</span></a>
y, si lo está, utilice <a class="reference internal" href="#ifdown"><span class="std std-ref">ifdown</span></a> antes de empezar.</p>
</div>
<div class="section" id="configuracion-dinamica">
<h3><span class="section-number">2.6.5.3.1. </span>Configuración dinámica<a class="headerlink" href="#configuracion-dinamica" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El cliente más utilizado para la línea de órdenes es <a class="reference internal" href="../../06.infraestructura/02.dhcp/02.tipos.html#dhclient"><span class="std std-ref">dhclient</span></a>
que se encarga de configurar la interfaz y <a class="reference internal" href="#bas-resolv-conf"><span class="std std-ref">modificar los servidores</span></a>. Las acciones básicas son dos:</p>
<ol class="arabic">
<li><p>Configurar la interfaz (p.e. <em>eth0</em>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> dhclient -v eth0
</pre></div>
</div>
</li>
<li><p>Desconfigurar la interfaz:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> dhclient -r eth0
</pre></div>
</div>
</li>
</ol>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<p>Para más información, consulte la <a class="reference internal" href="../../06.infraestructura/02.dhcp/02.tipos.html#dhcp-clients"><span class="std std-ref">sección dedicada a clientes
DHCP</span></a>.</p>
</div>
</div>
<div class="section" id="configuracion-manual">
<h3><span class="section-number">2.6.5.3.2. </span>Configuración manual<a class="headerlink" href="#configuracion-manual" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Si la configuración es manual, debemos realizar tres labores:</p>
<ol class="arabic simple">
<li><p>Configurar los parámetros de red de la interfaz.</p></li>
<li><p>Añadir una entrada a la tabla de encaminamiento para indicar cuál es la
puerta de enlace.</p></li>
<li><p>Configurar los servidores <abbr title="Domain Name Server">DNS</abbr></p></li>
</ol>
<p>Así que supongamos que queremos fijar una dirección  <abbr title="Internet Protocol">IP</abbr>
<kbd class="kbd docutils literal notranslate">192.168.1.10/24</kbd>, la puerta de enlace es <kbd class="kbd docutils literal notranslate">192.168.1.1</kbd> y los
servidores <abbr title="Domain Name Server">DNS</abbr> <kbd class="kbd docutils literal notranslate">1.1.1.1</kbd> y <kbd class="kbd docutils literal notranslate">1.0.0.1</kbd>.</p>
<p>Para las dos primeras tareas, el comando apropiado es:</p>
<span class="target" id="ip"></span><dl id="index-3">
<dt><strong class="command">ip</strong></dt><dd><p>Permite la configuración de distintos aspectos relacionados con la red:
políticas de encaminamiento, parámetros de configuración de la interfaz, etc.
Tiene un modo de funcionamiento similar a los comandos disponibles en
sistemas <em>ios</em> de cisco.</p>
<p>Para configurar la interfaz basta con:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> ip addr add <span class="m">192</span>.168.1.10/24 dev eth0
</pre></div>
</div>
<p>y para activarla con tal configuración:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> ip link <span class="nb">set</span> dev eth0 up
</pre></div>
</div>
<p>Esto habrá configurado la interfaz lo que puede comprobarse a través de:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ip addr show
<span class="go">[... Listado aquí ...]</span>
</pre></div>
</div>
<p>que muestra la configuración asignada y:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ip link show
<span class="go">[... Listado aquí ...]</span>
</pre></div>
</div>
<p>que muestra el estado de la interfaz. En este caso <code class="docutils literal notranslate"><span class="pre">UP</span></code> nos informa de que
la interfaz está activa y <code class="docutils literal notranslate"><span class="pre">LOWER_UP</span></code> de que tiene el cable conectado. En el
caso de estos últimos comandos es posible añadir <kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">dev</kbd> <kbd class="kbd docutils literal notranslate">eth0</kbd></kbd> para obtener
información solamente de esta interfaz.</p>
<p>No obstante, aún es necesario añadir la entrada en la tabla de encaminamiento
para configurar la puerta predeterminada:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> ip route add default via <span class="m">192</span>.168.1.1
</pre></div>
</div>
<p>Esta última orden provocará la adición de la entrada correspondiente:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ip route show
<span class="go">[... Listado aquí ...]</span>
</pre></div>
</div>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>En tutoriales antiguos de <em>Linux</em> podrá ver que estas órdenes se
hacen con <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/ifconfig">ifconfig</a></em> y <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/route">route</a></em>. Estas herramientas, sin
embargo, hace tiempo que se marcaron como obsoletas y, de hecho, no están
disponibles en <em>Debian</em> desde hace años. a menos que se instale expresamente
el paquete <strong>net-tools</strong>.</p>
</div>
<p class="rubric" id="bas-resolv-conf">DNS</p>
<p>En una configuración estática, es necesario definir los servidores <abbr title="Domain Name Server">DNS</abbr>, para
lo cual basta editar el fichero <code class="file docutils literal notranslate"><span class="pre">/etc/resolv.conf</span></code> e incluir las
siguientes líneas:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nameserver 1.0.0.1</span>
<span class="go">nameserver 1.1.1.1</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="otros-modos-de-configuracion">
<span id="otros-conf-red"></span><h2><span class="section-number">2.6.5.4. </span>Otros modos de configuración<a class="headerlink" href="#otros-modos-de-configuracion" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Es posible realizar la configuración de red a través de aplicaciones gráficas,
que ahorran la manipulación manual de ficheros. Las más habituales son:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.gnome.org/Projects/NetworkManager">network-manager</a>,
disponible en el escritorio GNOME</p></li>
<li><p><a class="reference external" href="http://wicd.sourceforge.net/">wicd</a>, apto para cualquier entorno gráfico
y que dispone incluso de interfaz para la terminal no gráfica.</p></li>
</ul>
<p>Ambas aplicaciones son compatibles con tener configurada alguna interfaz a
través del fichero <code class="file docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code>.</p>
</div>
<div class="section" id="ejercicios-sobre-redes">
<span id="ej-redmin"></span><h2><span class="section-number">2.6.5.5. </span>Ejercicios sobre redes<a class="headerlink" href="#ejercicios-sobre-redes" title="Enlazar permanentemente con este título">¶</a></h2>
<ol class="arabic simple">
<li><p>Desactivar la interfaz de red y configurar a través
de <code class="file docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code> una dirección estática
(use la que recibió dinámicamente antes para no generar
conflictos en la red).</p></li>
<li><p>Compruebe las interfaces activas y cuáles son las direcciones
<abbr title="Internet Protocol">IP</abbr> asociadas.</p></li>
<li><p>Sin usar <code class="file docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code>:</p>
<ol class="loweralpha simple">
<li><p>Activar de forma dinámica la red y, tras recibir la configuración,
desconfigurar la interfaz.</p></li>
<li><p>Activar la interfaz dándole una configuración estática (utilice
la misma dirección <abbr title="Internet Protocol">IP</abbr> que recibió dinámicamente antes)</p></li>
</ol>
</li>
<li><p>Instala una Lubuntu 18.04 en una máquina virtual</p></li>
<li><p>Configure la red dinámica y estáticamente usando la aplicación gráfica.</p></li>
</ol>
<p class="rubric">Notas al pie</p>
<dl class="footnote brackets">
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Para un tratamiento más profundo puede consultar <a class="reference external" href="http://docs.iescdl.es/~josem/redes.html">el siguiente enlace</a>.</p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>En realidad en el contenido de todo el directorio <code class="file docutils literal notranslate"><span class="pre">/etc/network</span></code>.</p>
</dd>
<dt class="label" id="id7"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>Puede leerse con más detalle sobre esto en <a class="reference external" href="https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames/">este artículo</a>.</p>
</dd>
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="#id4">4</a></span></dt>
<dd><p>Si se instala el paquete <em>resolvconf</em>, si pueden incluirse.</p>
</dd>
</dl>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Tabla de contenido</a></h3>
  <ul>
<li><a class="reference internal" href="#">2.6.5. Configuración de red</a><ul>
<li><a class="reference internal" href="#interfaces-presentes">2.6.5.1. Interfaces presentes</a></li>
<li><a class="reference internal" href="#configuracion-en-debian">2.6.5.2. Configuración en debian</a></li>
<li><a class="reference internal" href="#configuracion-universal">2.6.5.3. Configuración universal</a><ul>
<li><a class="reference internal" href="#configuracion-dinamica">2.6.5.3.1. Configuración dinámica</a></li>
<li><a class="reference internal" href="#configuracion-manual">2.6.5.3.2. Configuración manual</a></li>
</ul>
</li>
<li><a class="reference internal" href="#otros-modos-de-configuracion">2.6.5.4. Otros modos de configuración</a></li>
<li><a class="reference internal" href="#ejercicios-sobre-redes">2.6.5.5. Ejercicios sobre redes</a></li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="10.sudo.html"
                        title="capítulo anterior"><span class="section-number">2.6.4. </span>Escalada de privilegios</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="../10.texto/index.html"
                        title="próximo capítulo"><span class="section-number">2.7. </span>Tratamiento de texto</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/02.conbas/09.admbasica/11.red.rst.txt"
            rel="nofollow">Mostrar el código</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Ir a" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="../10.texto/index.html" title="2.7. Tratamiento de texto"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="10.sudo.html" title="2.6.4. Escalada de privilegios"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">documentación de Linuxnomicón - rolling</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" ><span class="section-number">2. </span>Conceptos básicos</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" ><span class="section-number">2.6. </span>Administración básica</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">2.6.5. </span>Configuración de red</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor CC BY 4.0, 2016-2021, José Miguel Sánchez Alés.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>
  </body>
</html>