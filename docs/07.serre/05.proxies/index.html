


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>7.5. Proxies &#8212; documentación de Linuxnomicón - rolling</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="7.5.2.1. ARP" href="01.arp.html" />
    <link rel="prev" title="7.4.3.2.2. Configuración avanzada" href="../04.vpn/02.wireguard/02.confalt.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="01.arp.html" title="7.5.2.1. ARP"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="../04.vpn/02.wireguard/02.confalt.html" title="7.4.3.2.2. Configuración avanzada"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">documentación de Linuxnomicón - rolling</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">7. Servicios de red</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="proxies">
<span id="id1"></span><h1>7.5. Proxies<a class="headerlink" href="#proxies" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Un <em class="dfn">proxy</em> es una máquina que hace de intermediario en la comunicación
entre cliente y servidor. Estas comunicaciones se establecen con protocolos de
capa de aplicación y, en consecuencia, los <em>proxies</em> interceptan y gestionan
tráfico de aplicación.</p>
<div class="section" id="tipos">
<h2>7.5.1. Tipos<a class="headerlink" href="#tipos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Citaremos dos clasificaciones:</p>
<ul>
<li><p class="first">Atendiendo a quién sea el sujeto de su intermediación:</p>
<dl class="docutils">
<dt><em class="dfn">Proxy directo</em> (generalmente <em>proxy</em> a secas)</dt>
<dd><p class="first">Es aquel que captura las peticiones de los clientes concretos de una red
hacia todos los servidores (generalmente en internet y de un tipo específico).</p>
<img alt="../../_images/proxy.png" class="last" src="../../_images/proxy.png" />
</dd>
<dt><em class="dfn">Proxy inverso</em>,</dt>
<dd><p class="first">Es aquel que captura las peticiones de todos los potenciales clientes
dirigidas a los servidores para los que intermedia. La diferencia, pues, entre
éstos y los normales es que mientras los <em>proxies</em> a secas intermedian entre
un conjunto limitado de clientes (los de la red local) y cualquier servidor
web, los <em>proxies</em> inversos intemedian entre cualquier cliente y el conjunto
limitado de servidores web para los que actúa de intermediario.</p>
<img alt="../../_images/proxyinverso.png" src="../../_images/proxyinverso.png" />
<div class="last admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">El <em>proxy</em> inverso no tiene por qué encontrarse en la misma red
local del servidor (o los servidores) web como el gráfico da a antender Sí
es la situación habitual cuando el <em>proxy</em> es gestionado por la misma
organización que el servidor <em>web</em>, pero no lo es en absoluto si se
contrata el servicio (p.e. el servicio <cite>cloudflare
&lt;https://www.cloudflare.com/&gt;</cite>).</p>
</div>
</dd>
</dl>
</li>
<li><p class="first">Atendiendo al efecto de su presencia, los proxies se dividen en <em class="dfn">proxy
explícito</em>, que es aquel que deja notas su presencia, y <em class="dfn">proxy
transparente</em> es aquel cuyo presencia pasa desapercibida. Ahora bien, un
<em>proxy</em> puede ser explícito o transparente  para el cliente, para el servidor
o para ambos. Por lo general:</p>
<ul class="simple">
<li>Cuando se trata de un <em>proxy directo</em>, un <em>proxy</em> se entiende
<strong>transparente</strong>, cuando los clientes no notan su presencia, esto es, cuando
creen comunicarse directamente con los servidores a los intentan acceder. De
hecho, que un <em>proxy</em> sea <strong>explícito</strong> implica configurar los propios
clientes para obligarlos a pasar por el <em>proxy</em>.</li>
<li>En caso de un <em>proxy inverso</em>, un <em>proxy</em> es <strong>transparente</strong> cuando el
servidor para el que media cree recibir las peticiones directamente de los
clientes, esto es, los paquetes entrantes tienen por <abbr title="Internet Protocol">IP</abbr> de origen la del
cliente y no la del <em>proxy</em>.</li>
</ul>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Por hacer</p>
<p class="last">Hacer algunos esquemas para ilustrar esto.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="proxies-frecuentes">
<h2>7.5.2. <em>Proxies</em> frecuentes<a class="headerlink" href="#proxies-frecuentes" title="Enlazar permanentemente con este título">¶</a></h2>
<dl class="docutils">
<dt><em class="dfn">Proxy DNS</em>,</dt>
<dd>que es aquel <em>proxy directo</em> que se encarga de obtener de un servidor <abbr title="Domain Name Server">DNS</abbr>
las resoluciones de nombres solicitadas por sus clientes y cachearlas a fin de
acelerar las solicitudes posterioes. <a class="reference internal" href="../../06.infraestructura/03.dns/03.dnsmasq.html#dnsmasq-dns"><span class="std std-ref">dnsmasq</span></a> es un
ejemplo de <em>proxy</em> de este tipo.</dd>
<dt><em class="dfn">Proxy ARP</em></dt>
<dd><p class="first">Es aquel que captura las peticiones <abbr title="Address Resolution Protocol">ARP</abbr> de las máquinas de una subred sobre
máquinas de otra subred, enviando su propia dirección <abbr title="Media Access Control">MAC</abbr> a fin de que estas
dirijan hacia él los paquetes para las máquinas de la otra subred.</p>
<img alt="../../_images/proxyarp.png" class="last" src="../../_images/proxyarp.png" />
</dd>
<dt><em class="dfn">Proxy web</em></dt>
<dd><p class="first">Es aquel <em>proxy</em> especializado en la intermediación de peticiones <abbr title="HyperText Transfer Protocol">HTTP</abbr> y
<abbr title="HyperText Transfer Protocol">HTTP</abbr>s. Dependiendo de si actúa como <em>proxy directo</em> o <em>proxy inverso</em>,
cumple distintas funciones:</p>
<ul class="last">
<li><p class="first">Como <em>proxy directo</em> puede:</p>
<ul class="simple">
<li>Establecer permisos u horarios de acceso, cuotas o anchos de banda según
los usuarios que se definan.</li>
<li>Filtrar contenidos bien porque la organización los considere inapropiados,
bien porque se consideran <em>spam</em> o <em>publicidad intrusiva</em>.</li>
<li>Cachear contenido a fin de acelerar las respuestas y ahorrar ancho de banda.</li>
</ul>
<p>Las dos últimas tareas exigen vigilar el tráfico circulante, lo cual es
posible sólo cuando no está cifrado, esto es, cuando el tráfico es <abbr title="HyperText Transfer Protocol">HTTP</abbr>.
Cuando el tráfico es, en cambio, <abbr title="HyperText Transfer Protocol">HTTP</abbr>s la información es inaccesible y
en principio, no hay forma de llevar a cabo estas dos tareas. Sin embargo,
la <a class="reference internal" href="../../09.apendice/01.cryto/03.aplicaciones.html#sni"><span class="std std-ref">extensión SNI</span></a> de <abbr title="Transport Layer Security">TLS</abbr> envía, al menos, el nombre de
dominio sin cifrar durante la fase de negociación, lo cual, posiibilita las
labores de filtrado, siempre que éste se base exclusivamente en el nombre
del dominio.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Como alternativa de filtrado a través del nombre de dominio,
pueden usarse los <a class="reference internal" href="../../06.infraestructura/03.dns/03.dnsmasq.html#dnsmasq-bloqueo"><span class="std std-ref">sumideros DNS</span></a>.</p>
</div>
</li>
<li><p class="first">Como <em>proxy inverso</em> puede:</p>
<ul class="simple">
<li>Si son varios los servidores de respaldo, balancear la carga entre
todos ellos.</li>
<li>Absorber el tráfico excesivo (p,e, ataques <abbr title="Deny of Service">DoS</abbr>).</li>
<li>Cachear selectivamente páginas para agilizar las respuestas, lo cual si
el tráfico es <abbr title="HyperText Transfer Protocol">HTTP</abbr>s,implica trasladar el punto extremo de la conexión
cifrada al propio <em>proxy</em>. Cachean tanto contenido estático (lo cual
ahorra ancho de banda al servidor y evita que tenga que atender la pentición)
como contenido dinámico, lo cual libera al servidor de tener que
regenerar constantemente las mismas páginos. En este último caso, el
cacheo debe ser muy cuidadoso ya que se corre el riesgo de entregar
información obsoletas.</li>
</ul>
</li>
</ul>
</dd>
</dl>
<p class="rubric">Contenidos</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="01.arp.html">7.5.2.1. <abbr title="Address Resolution Protocol">ARP</abbr></a></li>
<li class="toctree-l1"><a class="reference internal" href="02.web.html">7.5.2.2. Proxies de cliente</a></li>
<li class="toctree-l1"><a class="reference internal" href="03.reverse.html">7.5.2.3. Proxies inversos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="03.reverse/01.multi.html">7.5.2.3.1. Multiplexores</a></li>
<li class="toctree-l2"><a class="reference internal" href="03.reverse/02.transparencia.html">7.5.2.3.2. Transparencia</a></li>
<li class="toctree-l2"><a class="reference internal" href="03.reverse/03.web.html">7.5.2.3.3. Web</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">7.5. Proxies</a><ul>
<li><a class="reference internal" href="#tipos">7.5.1. Tipos</a></li>
<li><a class="reference internal" href="#proxies-frecuentes">7.5.2. <em>Proxies</em> frecuentes</a></li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="../04.vpn/02.wireguard/02.confalt.html"
                        title="capítulo anterior">7.4.3.2.2. Configuración avanzada</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="01.arp.html"
                        title="próximo capítulo">7.5.2.1. <abbr title="Address Resolution Protocol">ARP</abbr></a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/07.serre/05.proxies/index.rst.txt"
            rel="nofollow">Mostrar el código</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="01.arp.html" title="7.5.2.1. ARP"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="../04.vpn/02.wireguard/02.confalt.html" title="7.4.3.2.2. Configuración avanzada"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">documentación de Linuxnomicón - rolling</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >7. Servicios de red</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor CC BY 4.0, 2016-2020, José Miguel Sánchez Alés.
      Creado con <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>