Recuperación de datos
*********************
La recuperación de datos perdidos es, ciertamente, un asunto propio de la :ref:`integridad de datos <integridad-datos>` estudiada en la :ref:`unidad dedicada al almacenamiento <seg-alm>`, pero que por motivos meramente relacionados con la evaluación\ [#]_ hemos reservado para esta uunidad.

La recuperación de datos es obvio que deriva siempre de una pérdida previa,
pero dependiendo de si se tomó alguna contramedida de seguridad activa y de
cuál fuera la contramedida, se llevará a cabo de distinta forma:

+ En :ref:`sistemas RAID <raid>` (siempre que el fallo no sea irrecuperable,
  por supuesto) la recuperación de datos por la pérdida de un disco, es
  automática en cuanto se conecta el sustituto.

+ Si se perdieron datos, pero existen :ref:`copias de seguridad <backups>`, no
  hay más que recurrir a estas, según el mecanismo que implemente cada
  herramienta particular.

+ Por último, si para la pérdida no hay contramedida ninguna, entonces
  aún puede intentarse la recuperación de los datos sobre el soporte original,
  para lo cual habrá que distinguir entre:

  * *Fallos de disco*, que derivan en la imposibilidad de la lectura.
  * *Borrados accidentales*.

Fallos de disco
===============
Cuando un disco falla físicamente, todos los datos de la partición o del disco
entero resultan inaccesibles. Hay dos casos:

+ **Fallo completo** de disco que lo dejan absolutamente inutilizado y que
  requieran la intervención de una empresa especializada en recuperación de
  datos.
+ **Fallos parciales** que afectan sólo a un número límitado de sectores. En
  estos casos, es posible recuperar toda o parte de la información por medios
  ordinarios, aunque la resolución depende de qué información contuvieran estos
  sectores:

  + Los sectores pueden almacenar información sobre el particionado de disco y
    en ese caso, las particiones serán inaccesibles y, en consecuencia, todos
    los datos que contengan, también. En estos casos, puede que valga con
    recuperar la copia (en particionado |GPT|) o quizás haya que hacer una
    inspección del disco con una herramienta especializada como :ref:`testdisk
    <testdisk>` para adivinar cuáles eran estas particiones.

  + Pueden ser sectores que almacenen metainformación de un sistema de archivos.
    En ese caso, habrá que recurrir a herramientas específicas de tal sistema de
    archivo como se ilustra en la :ref:`recuperación del superbloque de un
    sistema ext4 <superbloque-dañado>`.

  + Por último, los sectores pueden contener información. En ese caso, el propio
    sistema de archivos proveerá de alguna herramienta para desechar esos
    sectores, aunque sea a costa de perder el archivo que contuviera. Véase
    :ref:`como recuperarlos en ext4 <bloques-datos-dañados>`.

Borrados accidentales
=====================

.. rubric:: Notas al pie

.. [#] La recuperación de datos aparece incompresiblemente como criterio de
   evaluación del **RA3** relativo a seguridad activa, el cual se desarrolla
   enteramente con esta unidad.

.. |GPT| replace:: :abbr:`GPT (Guid Partition Table)`
